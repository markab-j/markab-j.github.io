---
title: "Nginxì—ì„  502 Bad Gateway, í”„ë¡ì‹œ ì„œë²„ ë¡œê·¸ì—ì„  200 OK...?"
description: "Nginxì™€ Expressë¡œ êµ¬ì„±ëœ í”„ë¡ì‹œ í™˜ê²½ì—ì„œ íŠ¹ì • Spring ì„œë²„ì—ë§Œ 502 ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” í˜„ìƒì„ ë¶„ì„í•˜ê³ , í—¤ë” ì¤‘ë³µ ë¬¸ì œì™€ í•´ê²° ê³¼ì •ì„ ê³µìœ í•œë‹¤."
date: "2025-09-09"
categories:
  - "Troubleshooting"
  - "Backend"
tags:
  - "Nginx"
  - "Express"
  - "Proxy"
  - "Spring"
  - "transfer-encoding"
---

<script>
    import Image from "$lib/components/post/image.svelte";
</script>

# ë¬¸ì œ ìƒí™©

<Image 
    src="/images/resolving-nginx-express-proxy-502-error-image-1.jpeg"
    caption="ì•„ì£¼ ê°„ë‹¨í•œ ì„œë²„ ì•„í‚¤í…ì²˜"
/>

ì•„ì£¼ ë‹¨ìˆœí•œ ì•„í‚¤í…ì²˜ êµ¬ì¡°ì—ì„œ ì„œë¹„ìŠ¤ A, B, C, Dê°€ ì¡´ì¬í• ë•Œ í”„ë¡ì‹œ ì„œë²„ìš”ì²­ì„ ë³´ë‚´ë©´ í¬íŠ¸ë§Œ ë³€ê²½í•˜ì—¬ localhostë¡œ ë°°ë¶„í•˜ëŠ” ë‹¨ìˆœí•œ ì—­í• ì„ í•˜ê³  ìˆì—ˆë‹¤.

ì˜ë„ëŒ€ë¡œ A, Bì„œë²„ëŠ” ì›í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸ì— ë„ë‹¬í•˜ì—¬ ì‘ë‹µì„ ë°˜í™˜í•˜ì§€ë§Œ, C, DëŠ” 502ë¥¼ ë°˜í™˜í•˜ëŠ” ìƒí™©ì´ë‹¤.

ì´ë•Œ, ì„œë¹„ìŠ¤ A, BëŠ” Nestjsë¡œ ë™ì‘í•˜ê³  ì„œë¹„ìŠ¤ C, DëŠ” ìë°” ìŠ¤í”„ë§ìœ¼ë¡œ ë™ì‘í•˜ê³  ìˆë‹¤.

# ì›ì¸ ë¶„ì„

ê°€ì¥ ë¨¼ì €, ì‘ë‹µì´ 502ë¡œ ì˜¤ëŠ” ê²ƒì„ í™•ì¸í•˜ê¸° ìœ„í•´ ê²Œì´íŠ¸ì›¨ì´ ì„œë²„ì— ë¡œê·¸ë¥¼ ì‘ì„±í–ˆë‹¤.

ê²Œì´íŠ¸ì›¨ì´ ì„œë²„ëŠ” Expressë¡œ ì‘ì„±ë˜ì—ˆìœ¼ë©° [http-proxy-middleware](https://github.com/chimurai/http-proxy-middleware)ë¥¼ ì‚¬ìš©í–ˆë‹¤.

proxy-middlewareì— ì¡´ì¬í•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ í†µí•´ ì•„ë˜ì™€ ê°™ì€ ì •ë³´ë¥¼ ë¡œê¹…í–ˆë‹¤.

1. Proxy ì„œë²„ë¡œ ë“¤ì–´ì˜¨ ìš”ì²­ì˜ ì •ë³´
2. Proxy ì„œë²„ê°€ ê° ì„œë¹„ìŠ¤ë¡œ ë³´ë‚´ëŠ” ìš”ì²­ì˜ ì •ë³´
3. Proxy ì„œë²„ê°€ ì„œë¹„ìŠ¤ë¡œë¶€í„° ë°›ì€ ì‘ë‹µì˜ ì •ë³´

ë¡œê·¸ë¥¼ í™•ì¸í•œ ê²°ê³¼ ì´ìƒí•œ ì ì„ ì°¾ì„ ìˆ˜ ìˆì—ˆë‹¤.

ë¶„ëª… ìë°”ë¡œ ì‘ì„±ëœ C, D ì„œë²„ë„ A, Bì™€ ë™ì¼í•œ ë¡œê·¸ê°€ ì°íˆê³  ìˆì—ˆë‹¤.

3ë²ˆ ë¡œê·¸ì—ì„œ, A, B, C, D ì„œë¹„ìŠ¤ê°€ ëª¨ë‘ 200ì„ ë°˜í™˜í•˜ëŠ” ê²ƒì„ ë˜‘ë˜‘íˆ í™•ì¸í•  ìˆ˜ ìˆì—ˆë‹¤.

ê·¸ë ‡ë‹¤ëŠ” ê²ƒì€ í”„ë¡ì‹œ ì„œë²„ì—ì„œ ê° ì„œë¹„ìŠ¤ ì‚¬ì´ì—ëŠ” ì •í™•í•˜ê²Œ ë§¤í•‘ë˜ì–´ ë¬¸ì œê°€ ì—†ë‹¤.

ë¬¸ì œëŠ” í”„ë¡ì‹œ ì„œë²„ -> nginx ì‚¬ì´ê°„ì˜ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤ëŠ” ê²ƒì„ì„ íŒŒì•…í–ˆë‹¤.

### ì•Œì•„ë‚¸ ì •ë³´ë“¤

ê·¸ë ‡ë‹¤ë©´ ì™œ í”„ë¡ì‹œ ì„œë²„ -> nginxì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ”ê±¸ê¹Œ?

ì—¬ê¸°ì„œ ì´ìƒí•œ ì ì€ `[ì„œë¹„ìŠ¤ ì„œë²„ -> í”„ë¡ì‹œ ì„œë²„]`ì—ì„œ `200 OK`ê°€ ë°˜í™˜ë˜ë©´ `502 BadGateway`ê°€ nginxë¡œë¶€í„° ë°œìƒí•˜ì§€ë§Œ ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ ì„œë¹„ìŠ¤ ì„œë²„ë¡œë¶€í„° 400ì´ ì œëŒ€ë¡œ ë°˜í™˜ëœë‹¤ëŠ” ì ì´ì—ˆë‹¤.

ë‚˜ëŠ” ì—¬ê¸°ì„œ ë¬¸ì œ í•´ê²°ì„ ìœ„í•´ ë” ì´ìƒ ì–´ë–¤ ê²ƒì„ í•´ì•¼í• ì§€ ê°ˆí”¼ë¥¼ ì¡ì§€ ëª»í–ˆê¸°ì— Geminië¥¼ ì‚¬ìš©í–ˆë‹¤.

Geminiì—ê²Œ ì•„ë˜ì™€ ê°™ì€ í”„ë¡¬í”„íŠ¸ë¥¼ ì‘ì„±í–ˆë‹¤.

```markdown
nginxì™€ Express Proxy Server, ê·¸ë¦¬ê³  ë™ì¼í•œ ì»´í“¨í„°ì—ì„œ ë™ì‘í•˜ëŠ” ì„œë¹„ìŠ¤ ì„œë²„ë“¤ ê°„ì˜ ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí•˜ê³  ìˆìŠµë‹ˆë‹¤.

ì„œë²„ì˜ ì¢…ë¥˜ëŠ” ì´ë ‡ê²Œ ì§€ì¹­í•˜ê² ìŠµë‹ˆë‹¤.
A: nginx
B: Express Proxy Server ë‹¨ìˆœ ë§¤í•‘ë§Œ ì§€ì›í•©ë‹ˆë‹¤. ì¶”í›„ ì¸ì¦ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê¸° ìœ„í•œ ë ˆì´ì–´ì…ë‹ˆë‹¤.
C: ì—¬ëŸ¬ ì„œë¹„ìŠ¤ë“¤ì´ ì¡´ì¬í•©ë‹ˆë‹¤.
Place ì„œë¹„ìŠ¤ (ìë°” ìŠ¤í”„ë§)
Notice ì„œë¹„ìŠ¤ (Nest.js)
Home ì„œë¹„ìŠ¤ (ìë°” ìŠ¤í”„ë§)
Project ì„œë¹„ìŠ¤ (Nest.js)

ë§¤í•‘ì€ ì˜ ë™ì‘í•˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì…ë‹ˆë‹¤. Noticeì™€ Projectì„œë¹„ìŠ¤ëŠ” ì •í™•íˆ ë§¤í•‘ë˜ì–´ ì˜ë„í•œ urië¥¼ í†µí•´ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ Placeì„œë¹„ìŠ¤ëŠ” ì¡°ê¸ˆ ì´ìƒí•©ë‹ˆë‹¤.
Bì—ì„œ ë¡œê·¸ë¥¼ í™•ì¸í•œ ê²°ê³¼ ì •í™•íˆ ë§¤í•‘ë˜ì–´ ê°’ì„ ë°˜í™˜í•˜ê³  ìˆìŠµë‹ˆë‹¤. ë‹¤ë¥¸ Notice, Projectì™€ ê°™ì´ 200 OK, ë™ì¼í•œ ë¡œê¹…ì´ ì°íˆê³  ìˆìŠµë‹ˆë‹¤.
í•˜ì§€ë§Œ ì‹¤ì œ ìš”ì²­í™”ë©´ì—ì„œëŠ” 502 nginxì—ëŸ¬ê°€ ë°œìƒí•˜ê³  ìˆìŠµë‹ˆë‹¤.
ë” ì´ìƒí•œì ì€ 400ì„ ì¼ë¶€ëŸ¬ ë°œìƒì‹œí‚¤ê¸° ìœ„í•œ ìš”ì²­ì„ ë³´ë‚´ë©´ ìŠ¤í”„ë§ ê¸°ë³¸ 400í˜ì´ì§€ê°€ ë…¸ì¶œë©ë‹ˆë‹¤.
ë¬¸ì œ ì´ìœ ë¥¼ íŒŒì•…í•˜ê³  í•„ìš”í•œ ì •ë³´ê°€ ìˆë‹¤ë©´ ë” ìš”ì²­í•´ì£¼ì„¸ìš”.
```

ê·¸ë¦¬ê³  ì•„ë˜ì™€ ê°™ì€ ì‘ë‹µì„ ë°›ì•˜ë‹¤.

```markdown
ë„¤íŠ¸ì›Œí¬ êµ¬ì„±ê³¼ ì¦ìƒì„ ë°”íƒ•ìœ¼ë¡œ ë¬¸ì œì˜ ì›ì¸ì„ ì§„ë‹¨í•˜ê³  í•´ê²° ë°©ì•ˆì„ ì œì‹œí•´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

ê²°ë¡ ë¶€í„° ë§ì”€ë“œë¦¬ë©´
ê°€ì¥ ìœ ë ¥í•œ ì›ì¸ì€ B(Express Proxy Server)ê°€ C(Place Service, Spring)ë¡œë¶€í„° ë°›ì€ HTTP ì‘ë‹µ(Response)ì„ A(nginx)ë¡œ ì „ë‹¬í•˜ëŠ” ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.

íŠ¹íˆ, HTTP í—¤ë”(Header) ì²˜ë¦¬ ë˜ëŠ” ì‘ë‹µ ìŠ¤íŠ¸ë¦¼(Stream) ì²˜ë¦¬ì˜ ë¬¸ì œì¼ ê°€ëŠ¥ì„±ì´ ë§¤ìš° ë†’ìŠµë‹ˆë‹¤.

ğŸ§ ë¬¸ì œ ë¶„ì„ ë° ì¶”ë¡ 
ìš”ì²­ íë¦„ (Client -> A -> B -> C)ì€ ì •ìƒì…ë‹ˆë‹¤.

Bì˜ ë¡œê·¸ì— Cë¡œë¶€í„° 200 OK ì‘ë‹µì„ ë°›ì•˜ë‹¤ëŠ” ê¸°ë¡ì´ ìˆë‹¤ëŠ” ê²ƒì€ A -> B -> C ê¹Œì§€ì˜ ìš”ì²­ ì „ë‹¬ ë° Cì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬ê°€ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

ë¬¸ì œëŠ” ì‘ë‹µ íë¦„ (C -> B -> A -> Client)ì— ìˆìŠµë‹ˆë‹¤.

A(nginx)ì—ì„œ 502 Bad Gateway ì˜¤ë¥˜ê°€ ë°œìƒí–ˆë‹¤ëŠ” ê²ƒì€, Aê°€ ìì‹ ì˜ ì—…ìŠ¤íŠ¸ë¦¼(upstream) ì„œë²„ì¸ Bë¡œë¶€í„° ë¹„ì •ìƒì ì¸ ì‘ë‹µì„ ë°›ì•˜ê±°ë‚˜ ì‘ë‹µì„ ë°›ì§€ ëª»í–ˆë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.

BëŠ” Cë¡œë¶€í„° ì •ìƒ ì‘ë‹µ(200 OK)ì„ ë°›ì•˜ìœ¼ë¯€ë¡œ, ë¬¸ì œëŠ” Bê°€ ì´ ì‘ë‹µì„ Aì—ê²Œ ì „ë‹¬í•˜ëŠ” ê³¼ì •ì—ì„œ ë°œìƒí•©ë‹ˆë‹¤.

ê²°ì •ì ì¸ ë‹¨ì„œ: 400 ì—ëŸ¬ëŠ” ì •ìƒì ìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.

400 ì—ëŸ¬ ë°œìƒ ì‹œ ìŠ¤í”„ë§ ê¸°ë³¸ ì—ëŸ¬ í˜ì´ì§€ê°€ ë…¸ì¶œëœë‹¤ëŠ” ê²ƒì€, í•´ë‹¹ ì‘ë‹µ(HTML ë³¸ë¬¸ê³¼ í—¤ë”)ì€ C -> B -> A -> Client íë¦„ì„ ë¬¸ì œì—†ì´ í†µê³¼í•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.

ì´ëŠ” ë„¤íŠ¸ì›Œí¬ ì—°ê²° ìì²´ì˜ ë¬¸ì œê°€ ì•„ë‹˜ì„ ì‹œì‚¬í•©ë‹ˆë‹¤. ì„±ê³µì ì¸ 200 OK ì‘ë‹µê³¼ ì‹¤íŒ¨í•œ 400 Bad Request ì‘ë‹µ ì‚¬ì´ì— ì¡´ì¬í•˜ëŠ” ì°¨ì´ì ì´ ë¬¸ì œì˜ í•µì‹¬ì…ë‹ˆë‹¤.

ë„¤íŠ¸ì›Œí¬ êµ¬ì„±ê³¼ ì¦ìƒì„ ë°”íƒ•ìœ¼ë¡œ ë¬¸ì œì˜ ì›ì¸ì„ ì§„ë‹¨í•˜ê³  í•´ê²° ë°©ì•ˆì„ ì œì‹œí•´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

ê²°ë¡ ë¶€í„° ë§ì”€ë“œë¦¬ë©´
ê°€ì¥ ìœ ë ¥í•œ ì›ì¸ì€ B(Express Proxy Server)ê°€ C(Place Service, Spring)ë¡œë¶€í„° ë°›ì€ HTTP ì‘ë‹µ(Response)ì„ A(nginx)ë¡œ ì „ë‹¬í•˜ëŠ” ê³¼ì •ì—ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.

íŠ¹íˆ, HTTP í—¤ë”(Header) ì²˜ë¦¬ ë˜ëŠ” ì‘ë‹µ ìŠ¤íŠ¸ë¦¼(Stream) ì²˜ë¦¬ì˜ ë¬¸ì œì¼ ê°€ëŠ¥ì„±ì´ ë§¤ìš° ë†’ìŠµë‹ˆë‹¤.

ğŸ§ ë¬¸ì œ ë¶„ì„ ë° ì¶”ë¡ 
ìš”ì²­ íë¦„ (Client -> A -> B -> C)ì€ ì •ìƒì…ë‹ˆë‹¤.

Bì˜ ë¡œê·¸ì— Cë¡œë¶€í„° 200 OK ì‘ë‹µì„ ë°›ì•˜ë‹¤ëŠ” ê¸°ë¡ì´ ìˆë‹¤ëŠ” ê²ƒì€ A -> B -> C ê¹Œì§€ì˜ ìš”ì²­ ì „ë‹¬ ë° Cì˜ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬ê°€ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œë˜ì—ˆìŒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

ë¬¸ì œëŠ” ì‘ë‹µ íë¦„ (C -> B -> A -> Client)ì— ìˆìŠµë‹ˆë‹¤.

A(nginx)ì—ì„œ 502 Bad Gateway ì˜¤ë¥˜ê°€ ë°œìƒí–ˆë‹¤ëŠ” ê²ƒì€, Aê°€ ìì‹ ì˜ ì—…ìŠ¤íŠ¸ë¦¼(upstream) ì„œë²„ì¸ Bë¡œë¶€í„° ë¹„ì •ìƒì ì¸ ì‘ë‹µì„ ë°›ì•˜ê±°ë‚˜ ì‘ë‹µì„ ë°›ì§€ ëª»í–ˆë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.

BëŠ” Cë¡œë¶€í„° ì •ìƒ ì‘ë‹µ(200 OK)ì„ ë°›ì•˜ìœ¼ë¯€ë¡œ, ë¬¸ì œëŠ” Bê°€ ì´ ì‘ë‹µì„ Aì—ê²Œ ì „ë‹¬í•˜ëŠ” ê³¼ì •ì—ì„œ ë°œìƒí•©ë‹ˆë‹¤.

ê²°ì •ì ì¸ ë‹¨ì„œ: 400 ì—ëŸ¬ëŠ” ì •ìƒì ìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.

400 ì—ëŸ¬ ë°œìƒ ì‹œ ìŠ¤í”„ë§ ê¸°ë³¸ ì—ëŸ¬ í˜ì´ì§€ê°€ ë…¸ì¶œëœë‹¤ëŠ” ê²ƒì€, í•´ë‹¹ ì‘ë‹µ(HTML ë³¸ë¬¸ê³¼ í—¤ë”)ì€ C -> B -> A -> Client íë¦„ì„ ë¬¸ì œì—†ì´ í†µê³¼í•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.

ì´ëŠ” ë„¤íŠ¸ì›Œí¬ ì—°ê²° ìì²´ì˜ ë¬¸ì œê°€ ì•„ë‹˜ì„ ì‹œì‚¬í•©ë‹ˆë‹¤. ì„±ê³µì ì¸ 200 OK ì‘ë‹µê³¼ ì‹¤íŒ¨í•œ 400 Bad Request ì‘ë‹µ ì‚¬ì´ì— ì¡´ì¬í•˜ëŠ” ì°¨ì´ì ì´ ë¬¸ì œì˜ í•µì‹¬ì…ë‹ˆë‹¤.

ğŸ¯ ì˜ˆìƒ ì›ì¸
ì„±ê³µ(200) ì‘ë‹µê³¼ ì‹¤íŒ¨(400) ì‘ë‹µì˜ ê°€ì¥ í° ì°¨ì´ëŠ” ë³´í†µ ì‘ë‹µ ë³¸ë¬¸(Response Body)ì˜ í¬ê¸°ë‚˜ ì¢…ë¥˜, ê·¸ë¦¬ê³  íŠ¹ì • HTTP í—¤ë”ì— ìˆìŠµë‹ˆë‹¤.

1. HTTP í—¤ë” ë¶ˆì¼ì¹˜ ë˜ëŠ” ëˆ„ë½ (ê°€ì¥ ìœ ë ¥)
   Content-Length vs Transfer-Encoding: chunked: Nest.js ì„œë¹„ìŠ¤ëŠ” ì‘ë‹µ í¬ê¸°ë¥¼ ëª…ì‹œí•˜ëŠ” Content-Length í—¤ë”ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆì§€ë§Œ, Spring ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ê¸°ë³¸ì ìœ¼ë¡œ ì‘ë‹µì„ ì¡°ê°ë‚´ì„œ ë³´ë‚´ëŠ” Transfer-Encoding: chunked ë°©ì‹ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. Express í”„ë¡ì‹œ ì„œë²„(B)ì˜ í”„ë¡ì‹œ ë¯¸ë“¤ì›¨ì–´(ì˜ˆ: http-proxy-middleware)ê°€ ì´ chunked ì¸ì½”ë”©ì„ ì œëŒ€ë¡œ ì²˜ë¦¬í•˜ì§€ ëª»í•˜ê³  ì—°ê²°ì„ ì¡°ê¸°ì— ì¢…ë£Œí•˜ë©´, nginx(A)ëŠ” ë¶ˆì™„ì „í•œ ì‘ë‹µì„ ë°›ê²Œ ë˜ì–´ 502 ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Connection ë˜ëŠ” Keep-Alive í—¤ë”: Bê°€ Cë¡œë¶€í„° ë°›ì€ Connection ê´€ë ¨ í—¤ë”ë¥¼ Aë¡œ ì „ë‹¬í•˜ëŠ” ê³¼ì •ì—ì„œ ë¬¸ì œê°€ ìƒê²¨ ì—°ê²°ì´ ë¹„ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

... ë‹µë³€ì´ ê¸¸ì–´ ìƒëµí•¨
```

ë‹µë³€ì„ ë³´ê³  ì‹¤ì œ ë¡œì»¬ í˜¸ìŠ¤íŠ¸ì—ì„œ `curl`ì„ ì´ìš©í•˜ì—¬ ë™ì¼í•œ ì—”ë“œí¬ì¸íŠ¸ì— ê°ê° ìš”ì²­ì„ ë³´ëƒˆë‹¤.

## ê·¼ë³¸ì ì¸ ë¬¸ì œ í™•ì¸

ì´ì–´ì„œ C ì„œë¹„ìŠ¤ì™€ í”„ë¡ì‹œ ì„œë²„ë¡œ ìš”ì²­í•œ ê²ƒì˜ ë¡œê·¸ì˜ í—¤ë”ë¥¼ GEMINIì—ê²Œ ì œê³µí–ˆê³ , ë¬¸ì œì˜ ì›ì¸ì„ ì•Œì•„ëƒˆë‹¤.

```bash title="C ì„œë²„ë¡œ ì§ì ‘ ìš”ì²­"
HTTP/1.1 200
...
Transfer-Encoding: chunked
...
```

```bash title="í”„ë¡ì‹œ ì„œë²„ë¡œ ìš”ì²­"
HTTP/1.1 200 OK
...
Transfer-Encoding: chunked // <-- Cë¡œë¶€í„° ë°›ì€ ì›ë³¸ í—¤ë”
...
Connection: close
X-Powered-By: Express
Transfer-Encoding: chunked // <-- Expressê°€ ì¶”ê°€í•œ ê²ƒìœ¼ë¡œ ì¶”ì •ë˜ëŠ” ì¤‘ë³µ í—¤ë”
```

nginxê°€ ì˜ëª»ëœ í—¤ë”ë¡œ ì¸í•´ 502 ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ê²ƒì´ í™•ì‹¤í•´ì¡Œë‹¤.

# í•´ê²°

ë¬¸ì œ í•´ê²°ì„ ìœ„í•´ ë‚´ê°€ í•œ ì‘ì—…ì€ ë‹¨ìˆœí–ˆë‹¤.

ì¤‘ë³µí—¤ë”ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œ í”„ë¡ì‹œ ì„œë²„ì—ì„œ ê´€ë ¨ í—¤ë”ë¥¼ ì œê±°í•˜ëŠ” ì‘ì—…ì„ ì§„í–‰í–ˆë‹¤.

ìë°” ìŠ¤í”„ë§ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ ì„œë²„ì—ë§Œ ì ìš©í•˜ë©´ ë˜ë¯€ë¡œ, ê° ì—”ë“œí¬ì¸íŠ¸ë§ˆë‹¤ ì ìš©í•´ì£¼ì—ˆë‹¤.

```typescript
proxyRouter.use(
  "/place",
  createProxyMiddleware<Request, Response>({
    target: PLACE_BASE_URL,
    logger: console,
    on: {
      proxyRes: (proxyRes, req, res) => {
        delete proxyRes.headers["transfer-encoding"];
      },
    },
  })
);
```

# ê´€ë ¨ ì´ìŠˆ: Github

[http-proxy-middleware](https://github.com/chimurai/http-proxy-middleware)

ë¹„ìŠ·í•œ ì´ìŠˆê°€ ìˆëŠ”ì§€ ì°¾ì•„ë³´ê¸° ìœ„í•´ `transfer-encoding`ì´ë¼ëŠ” í‚¤ì›Œë“œë¡œ ê²€ìƒ‰ì„ í•´ë´¤ë‹¤.

ë™ì¼í•œ ì´ìŠˆì™€ í† ë¡ ì´ ì¡´ì¬í–ˆë‹¤.

[Transfer-Encoding chunked and routing seems to cause a problem #574](https://github.com/chimurai/http-proxy-middleware/discussions/574)
[Transfer-Encoding chunked and routing seems to cause a problem #324](https://github.com/chimurai/http-proxy-middleware/issues/324)

# ê´€ë ¨ ê²Œì‹œê¸€

ì‘ì„± ì˜ˆì •: HTTP Header: transfer-encodingë€ ë¬´ì—‡ì¼ê¹Œ? - Nestjs(Express)ì™€ Java Springì—ì„œì˜ í—¤ë”
