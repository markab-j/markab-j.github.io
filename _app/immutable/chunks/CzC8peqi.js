import{b8 as ye,w as f,a2 as Ee,r as ve,u as j,b7 as J,q as be,b9 as _,o as se,v as _e,aT as R,ao as y,at as P,aR as W,ba as L}from"./AXlEUnx1.js";import{g as Se}from"./CqkleIqs.js";function C(t){let e=0,r=Ee(0),n;return()=>{ye()&&(f(r),ve(()=>(e===0&&(n=j(()=>t(()=>J(r)))),e+=1,()=>{be(()=>{e-=1,e===0&&(n?.(),n=void 0,J(r))})})))}}const oe=typeof window<"u"?window:void 0;function xe(t){let e=t.activeElement;for(;e?.shadowRoot;){const r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}class Te{#t;#e;constructor(e,r){this.#t=e,this.#e=C(r)}get current(){return this.#e(),this.#t()}}const Ae=/\(.+\)/,Re=new Set(["all","print","screen","and","or","not","only"]);class ke extends Te{constructor(e,r){let n=Ae.test(e)||e.split(/[\s,]+/).some(s=>Re.has(s.trim()))?e:`(${e})`;const o=window.matchMedia(n);super(()=>o.matches,s=>_(o,"change",s))}}let Me=class{#t;#e;constructor(e={}){const{window:r=oe,document:n=r?.document}=e;r!==void 0&&(this.#t=n,this.#e=C(o=>{const s=_(r,"focusin",o),c=_(r,"focusout",o);return()=>{s(),c()}}))}get current(){return this.#e?.(),this.#t?xe(this.#t):null}};new Me;function Pe(t,e){switch(t){case"post":_e(e);break;case"pre":se(e);break}}function ue(t,e,r,n={}){const{lazy:o=!1}=n;let s=!o,c=Array.isArray(t)?[]:void 0;Pe(e,()=>{const d=Array.isArray(t)?t.map(p=>p()):t();if(!s){s=!0,c=d;return}const h=j(()=>r(d,c));return c=d,h})}function $(t,e,r){ue(t,"post",e,r)}function Ce(t,e,r){ue(t,"pre",e,r)}$.pre=Ce;function Ie(t,e){switch(t){case"local":return e.localStorage;case"session":return e.sessionStorage}}class ce{#t;#e;#n;#r;#s;#i=R(0);constructor(e,r,n={}){const{storage:o="local",serializer:s={serialize:JSON.stringify,deserialize:JSON.parse},syncTabs:c=!0,window:d=oe}=n;if(this.#t=r,this.#e=e,this.#n=s,d===void 0)return;const h=Ie(o,d);this.#r=h;const p=h.getItem(e);p!==null?this.#t=this.#o(p):this.#u(r),c&&o==="local"&&(this.#s=C(()=>_(d,"storage",this.#c)))}get current(){this.#s?.(),f(this.#i);const e=this.#o(this.#r?.getItem(this.#e))??this.#t,r=new WeakMap,n=o=>{if(o===null||o?.constructor.name==="Date"||typeof o!="object")return o;let s=r.get(o);return s||(s=new Proxy(o,{get:(c,d)=>(f(this.#i),n(Reflect.get(c,d))),set:(c,d,h)=>(y(this.#i,f(this.#i)+1),Reflect.set(c,d,h),this.#u(e),!0)}),r.set(o,s)),s};return n(e)}set current(e){this.#u(e),y(this.#i,f(this.#i)+1)}#c=e=>{e.key!==this.#e||e.newValue===null||(this.#t=this.#o(e.newValue),y(this.#i,f(this.#i)+1))};#o(e){try{return this.#n.deserialize(e)}catch(r){console.error(`Error when parsing "${e}" from persisted store "${this.#e}"`,r);return}}#u(e){try{e!=null&&this.#r?.setItem(this.#e,this.#n.serialize(e))}catch(r){console.error(`Error when writing value from persisted store "${this.#e}" to ${this.#r}`,r)}}}function K(t){return t.filter(e=>e.length>0)}const ae={getItem:t=>null,setItem:(t,e)=>{}},k=typeof document<"u";function ze(t){return typeof t=="function"}function Oe(t){return t!==null&&typeof t=="object"}const A=Symbol("box"),q=Symbol("is-writable");function Ne(t){return Oe(t)&&A in t}function je(t){return a.isBox(t)&&q in t}function a(t){let e=R(P(t));return{[A]:!0,[q]:!0,get current(){return f(e)},set current(r){y(e,r,!0)}}}function We(t,e){const r=W(t);return e?{[A]:!0,[q]:!0,get current(){return f(r)},set current(n){e(n)}}:{[A]:!0,get current(){return t()}}}function Le(t){return a.isBox(t)?t:ze(t)?a.with(t):a(t)}function $e(t){return Object.entries(t).reduce((e,[r,n])=>a.isBox(n)?(a.isWritableBox(n)?Object.defineProperty(e,r,{get(){return n.current},set(o){n.current=o}}):Object.defineProperty(e,r,{get(){return n.current}}),e):Object.assign(e,{[r]:n}),{})}function qe(t){return a.isWritableBox(t)?{[A]:!0,get current(){return t.current}}:t}a.from=Le;a.with=We;a.flatten=$e;a.readonly=qe;a.isBox=Ne;a.isWritableBox=je;var b={},I,Q;function Fe(){if(Q)return I;Q=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,d=/^\s+|\s+$/g,h=`
`,p="/",E="*",w="",he="comment",me="declaration";I=function(l,v){if(typeof l!="string")throw new TypeError("First argument must be a string");if(!l)return[];v=v||{};var S=1,g=1;function B(u){var i=u.match(e);i&&(S+=i.length);var m=u.lastIndexOf(h);g=~m?u.length-m:g+u.length}function V(){var u={line:S,column:g};return function(i){return i.position=new D(u),X(),i}}function D(u){this.start=u,this.end={line:S,column:g},this.source=v.source}D.prototype.content=l;function G(u){var i=new Error(v.source+":"+S+":"+g+": "+u);if(i.reason=u,i.filename=v.source,i.line=S,i.column=g,i.source=l,!v.silent)throw i}function x(u){var i=u.exec(l);if(i){var m=i[0];return B(m),l=l.slice(m.length),i}}function X(){x(r)}function Y(u){var i;for(u=u||[];i=H();)i!==!1&&u.push(i);return u}function H(){var u=V();if(!(p!=l.charAt(0)||E!=l.charAt(1))){for(var i=2;w!=l.charAt(i)&&(E!=l.charAt(i)||p!=l.charAt(i+1));)++i;if(i+=2,w===l.charAt(i-1))return G("End of comment missing");var m=l.slice(2,i-2);return g+=2,B(m),l=l.slice(i),g+=2,u({type:he,comment:m})}}function pe(){var u=V(),i=x(n);if(i){if(H(),!x(o))return G("property missing ':'");var m=x(s),we=u({type:me,property:F(i[0].replace(t,w)),value:m?F(m[0].replace(t,w)):w});return x(c),we}}function ge(){var u=[];Y(u);for(var i;i=pe();)i!==!1&&(u.push(i),Y(u));return u}return X(),ge()};function F(l){return l?l.replace(d,w):w}return I}var U;function Be(){if(U)return b;U=1;var t=b&&b.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(b,"__esModule",{value:!0}),b.default=r;var e=t(Fe());function r(n,o){var s=null;if(!n||typeof n!="string")return s;var c=(0,e.default)(n),d=typeof o=="function";return c.forEach(function(h){if(h.type==="declaration"){var p=h.property,E=h.value;d?o(p,E,h):E&&(s=s||{},s[p]=E)}}),s}return b}var Ve=Be();const Z=Se(Ve);Z.default;function De(t,e){const r=RegExp(t,"g");return n=>{if(typeof n!="string")throw new TypeError(`expected an argument of type string, but got ${typeof n}`);return n.match(r)?n.replace(r,e):n}}const Ge=De(/[A-Z]/,t=>`-${t.toLowerCase()}`);function Xe(t){if(!t||typeof t!="object"||Array.isArray(t))throw new TypeError(`expected an argument of type object, but got ${typeof t}`);return Object.keys(t).map(e=>`${Ge(e)}: ${t[e]};`).join(`
`)}function Ye(t={}){return Xe(t).replace(`
`," ")}const He={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",transform:"translateX(-100%)"};Ye(He);const Je=typeof window<"u"?window:void 0;function Ke(t){let e=t.activeElement;for(;e?.shadowRoot;){const r=e.shadowRoot.activeElement;if(r===e)break;e=r}return e}class Qe{#t;#e;constructor(e={}){const{window:r=Je,document:n=r?.document}=e;r!==void 0&&(this.#t=n,this.#e=C(o=>{const s=_(r,"focusin",o),c=_(r,"focusout",o);return()=>{s(),c()}}))}get current(){return this.#e?.(),this.#t?Ke(this.#t):null}}new Qe;const z=a("mode-watcher-mode"),O=a("mode-watcher-theme"),Ue=["dark","light","system"];function ee(t){return typeof t!="string"?!1:Ue.includes(t)}class Ze{#t="system";#e=k?localStorage:ae;#n=this.#e.getItem(z.current);#r=ee(this.#n)?this.#n:this.#t;#s=R(P(this.#i()));#i(e=this.#r){return new ce(z.current,e,{serializer:{serialize:r=>r,deserialize:r=>ee(r)?r:this.#t}})}constructor(){L(()=>$.pre(()=>z.current,(e,r)=>{const n=f(this.#s).current;y(this.#s,this.#i(n),!0),r&&localStorage.removeItem(r)}))}get current(){return f(this.#s).current}set current(e){f(this.#s).current=e}}class et{#t=void 0;#e=!0;#n=R(P(this.#t));#r=typeof window<"u"&&typeof window.matchMedia=="function"?new ke("prefers-color-scheme: light"):{current:!1};query(){k&&y(this.#n,this.#r.current?"light":"dark",!0)}tracking(e){this.#e=e}constructor(){L(()=>{se(()=>{this.#e&&this.query()})}),this.query=this.query.bind(this),this.tracking=this.tracking.bind(this)}get current(){return f(this.#n)}}const te=new Ze,tt=new et;class rt{#t=k?localStorage:ae;#e=this.#t.getItem(O.current);#n=this.#e===null||this.#e===void 0?"":this.#e;#r=R(P(this.#s()));#s(e=this.#n){return new ce(O.current,e,{serializer:{serialize:r=>typeof r!="string"?"":r,deserialize:r=>r}})}constructor(){L(()=>$.pre(()=>O.current,(e,r)=>{const n=f(this.#r).current;y(this.#r,this.#s(n),!0),r&&localStorage.removeItem(r)}))}get current(){return f(this.#r).current}set current(e){f(this.#r).current=e}}const N=new rt;let re,ne,ie=!1,T=null;function nt(){return T||(T=document.createElement("style"),T.appendChild(document.createTextNode(`* {
		-webkit-transition: none !important;
		-moz-transition: none !important;
		-o-transition: none !important;
		-ms-transition: none !important;
		transition: none !important;
	}`)),T)}function le(t,e=!1){if(typeof document>"u")return;if(!ie){ie=!0,t();return}if(typeof window<"u"&&window.__vitest_worker__){t();return}clearTimeout(re),clearTimeout(ne);const n=nt(),o=()=>document.head.appendChild(n),s=()=>{n.parentNode&&document.head.removeChild(n)};function c(){t(),window.requestAnimationFrame(s)}if(typeof window.requestAnimationFrame<"u"){o(),e?c():window.requestAnimationFrame(()=>{c()});return}o(),re=window.setTimeout(()=>{t(),ne=window.setTimeout(s,16)},16)}const M=a(void 0),fe=a(!0),de=a(!1),it=a([]),st=a([]);function ot(){const t=W(()=>{if(!k)return;const e=te.current==="system"?tt.current:te.current,r=K(it.current),n=K(st.current);function o(){const s=document.documentElement,c=document.querySelector('meta[name="theme-color"]');e==="light"?(r.length&&s.classList.remove(...r),n.length&&s.classList.add(...n),s.style.colorScheme="light",c&&M.current&&c.setAttribute("content",M.current.light)):(n.length&&s.classList.remove(...n),r.length&&s.classList.add(...r),s.style.colorScheme="dark",c&&M.current&&c.setAttribute("content",M.current.dark))}return fe.current?le(o,de.current):o(),e});return{get current(){return f(t)}}}function ut(){const t=W(()=>{if(N.current,!k)return;function e(){document.documentElement.setAttribute("data-theme",N.current)}return fe.current?le(e,j(()=>de.current)):e(),N.current});return{get current(){return f(t)}}}const ft=ot(),dt=ut();export{it as a,fe as b,N as c,ft as d,M as e,dt as f,tt as g,ee as i,st as l,z as m,de as s,O as t,te as u};
