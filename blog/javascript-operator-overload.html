<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1"
    />
    
		<link href="../_app/immutable/assets/0.DNAZ0I-c.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.ChMxvzUG.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/khrmUelp.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/kdTHykGj.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Bnp0l1rp.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/D0iwhpLH.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DjUvtmSg.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.BFT2A5C2.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/PPVm8Dsz.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DsnmJJEf.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CXjft6v8.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CZxCv9VC.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/B_wVCKFn.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/D29xPeYc.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.D6zhKBd9.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BnpJiuoK.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CqkleIqs.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/D8iWDPq2.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BKK0jMZx.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/_AuKuasQ.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BR7wxYWc.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CuNgCV5T.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CCcTBLnX.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/0JNfDbnS.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/7nLPwoo4.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/5.B3wQz1i_.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BAnjKx80.js"><!--[--><link rel="icon" href="/favicon.svg"/><!--]--><!--[--><!--[!--><!--]--> <!----><script>(function setInitialMode({ defaultMode = "system", themeColors: themeColors2, darkClassNames: darkClassNames2 = ["dark"], lightClassNames: lightClassNames2 = [], defaultTheme = "", modeStorageKey: modeStorageKey2 = "mode-watcher-mode", themeStorageKey: themeStorageKey2 = "mode-watcher-theme" }) {
  const rootEl = document.documentElement;
  const mode = localStorage.getItem(modeStorageKey2) ?? defaultMode;
  const theme = localStorage.getItem(themeStorageKey2) ?? defaultTheme;
  const light = mode === "light" || mode === "system" && window.matchMedia("(prefers-color-scheme: light)").matches;
  if (light) {
    if (darkClassNames2.length)
      rootEl.classList.remove(...darkClassNames2.filter(Boolean));
    if (lightClassNames2.length)
      rootEl.classList.add(...lightClassNames2.filter(Boolean));
  } else {
    if (lightClassNames2.length)
      rootEl.classList.remove(...lightClassNames2.filter(Boolean));
    if (darkClassNames2.length)
      rootEl.classList.add(...darkClassNames2.filter(Boolean));
  }
  rootEl.style.colorScheme = light ? "light" : "dark";
  if (themeColors2) {
    const themeMetaEl = document.querySelector('meta[name="theme-color"]');
    if (themeMetaEl) {
      themeMetaEl.setAttribute("content", mode === "light" ? themeColors2.light : themeColors2.dark);
    }
  }
  if (theme) {
    rootEl.setAttribute("data-theme", theme);
    localStorage.setItem(themeStorageKey2, theme);
  }
  localStorage.setItem(modeStorageKey2, mode);
})({"defaultMode":"system","darkClassNames":["dark"],"lightClassNames":[],"defaultTheme":"","modeStorageKey":"mode-watcher-mode","themeStorageKey":"mode-watcher-theme"});</script><!----><!--]--><!--[--><meta data-key="description" name="description" content="자바스크립트에서 연산자 오버로딩(Operator Overloading)을 구현할 수 있을까?"/> <meta property="og:type" content="article"/> <meta property="og:title" content="자바스크립트 연산자 오버로딩"/> <meta name="twitter:title" content="자바스크립트 연산자 오버로딩"/> <meta property="og:description" content="자바스크립트에서 연산자 오버로딩(Operator Overloading)을 구현할 수 있을까?"/> <meta name="twitter:description" content="자바스크립트에서 연산자 오버로딩(Operator Overloading)을 구현할 수 있을까?"/> <meta property="og:image:width" content="undefined"/> <meta property="og:image:height" content="undefined"/><!--]--><title>자바스크립트 연산자 오버로딩</title>
  </head>
  <body data-sveltekit-preload-data="hover">
    <div style="display: contents"><!--[--><!--[--><!----><!--[!--><!--]--><!----> <div class="flex min-h-screen flex-col"><header class="fixed inset-x-0 top-0 z-50 p-4"><div class="dark:bg-secondary/50 mx-auto flex min-h-16 max-w-4xl items-center justify-between overflow-hidden rounded-2xl bg-white/50 px-4 py-2 shadow-lg ring-1 ring-black/5 backdrop-blur-sm"><div class="pointer-events-none absolute inset-0 rounded-[inherit] border-[length:var(--border-beam-width)] border-transparent [mask-image:linear-gradient(transparent,transparent),linear-gradient(#000,#000)] [mask-composite:intersect] [mask-clip:padding-box,border-box]" style="--border-beam-width: 1px;"><!----><!----><!----><!----><!--[--><!----><!----><!----><!----><!----><!----><!----><!----><div class="absolute aspect-square bg-gradient-to-l from-[var(--color-from)] via-[var(--color-to)] to-transparent" style=" width: 60px; offset-path: rect(0 auto auto 0 round 60px); --color-from: #AAA; --color-to: #AAA;  "></div><!----><!----><!----><!----><!----><!----><!----><!----> <!--[!--><!--]--><!----><!--]--><!----><!----><!----><!----><!----></div><!----> <!--[--><!--]--><!----> <a href="../" aria-label="Go Home"><img src="data:image/svg+xml,%3csvg%20width='512'%20height='512'%20viewBox='0%200%20512%20523'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='256'%20cy='267'%20r='256'%20fill='currentColor'/%3e%3cpath%20d='M227.483%20309.754V138.172H282.854V309.754C282.854%20326.388%20279.095%20340.743%20271.575%20352.82C264.17%20364.783%20254.087%20374.069%20241.326%20380.677C228.68%20387.171%20214.381%20390.418%20198.431%20390.418C182.024%20390.418%20167.441%20387.684%20154.681%20382.215C141.92%20376.632%20131.894%20368.144%20124.603%20356.751C117.425%20345.244%20113.836%20330.604%20113.836%20312.83H169.549C169.549%20321.603%20170.631%20328.553%20172.796%20333.68C175.075%20338.693%20178.379%20342.225%20182.708%20344.275C187.037%20346.326%20192.278%20347.352%20198.431%20347.352C204.355%20347.352%20209.482%20345.927%20213.812%20343.079C218.141%20340.117%20221.502%20335.844%20223.895%20330.262C226.287%20324.565%20227.483%20317.729%20227.483%20309.754Z'%20fill='white'/%3e%3cpath%20d='M282.068%20179.565V325H228.577V140.088H278.821L282.068%20179.565ZM275.062%20226.05L261.731%20226.392C261.731%20212.492%20263.44%20200.016%20266.858%20188.965C270.276%20177.913%20275.118%20168.514%20281.385%20160.767C287.765%20152.905%20295.341%20146.924%20304.114%20142.822C313.001%20138.721%20322.799%20136.67%20333.509%20136.67C342.168%20136.67%20350.086%20137.923%20357.264%20140.43C364.441%20142.936%20370.594%20146.981%20375.721%20152.563C380.962%20158.032%20384.949%20165.324%20387.684%20174.438C390.418%20183.439%20391.785%20194.548%20391.785%20207.764V325H338.123V207.593C338.123%20199.845%20337.041%20193.864%20334.876%20189.648C332.711%20185.433%20329.521%20182.471%20325.306%20180.762C321.204%20179.053%20316.191%20178.198%20310.267%20178.198C304%20178.198%20298.646%20179.451%20294.202%20181.958C289.759%20184.351%20286.113%20187.712%20283.265%20192.041C280.416%20196.37%20278.309%20201.44%20276.941%20207.251C275.688%20213.062%20275.062%20219.328%20275.062%20226.05Z'%20fill='white'/%3e%3crect%20x='225'%20y='194'%20width='60'%20height='40'%20fill='currentColor'/%3e%3c/svg%3e" alt="Blog Logo" class="size-8"/></a> <nav class="flex gap-4"><ul class="flex items-center space-x-6 text-sm font-medium"><!--[--><li><a href="../about" class="hover:text-foreground/50 transition-colors duration-200">About</a></li><li><a href="../blog" class="hover:text-foreground/50 transition-colors duration-200">Blog</a></li><li><a href="../projects" class="hover:text-foreground/50 transition-colors duration-200">Project</a></li><!--]--></ul> <div class="flex items-center space-x-4 px-2"><button type="button" aria-label="theme toggle" class="hover:text-foreground/50 relative size-5"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-sun absolute inset-0 size-5 !transition-transform duration-300 [backface-visibility:hidden] dark:[transform:rotateY(180deg)]"><!--[--><!----><circle cx="12" cy="12" r="4"><!----></circle><!----><!----><path d="M12 2v2"><!----></path><!----><!----><path d="M12 20v2"><!----></path><!----><!----><path d="m4.93 4.93 1.41 1.41"><!----></path><!----><!----><path d="m17.66 17.66 1.41 1.41"><!----></path><!----><!----><path d="M2 12h2"><!----></path><!----><!----><path d="M20 12h2"><!----></path><!----><!----><path d="m6.34 17.66-1.41 1.41"><!----></path><!----><!----><path d="m19.07 4.93-1.41 1.41"><!----></path><!----><!--]--><!----><!----></svg><!----> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-moon absolute inset-0 size-5 [transform:rotateY(180deg)] !transition-transform duration-300 [backface-visibility:hidden] dark:[transform:rotateY(360deg)]"><!--[--><!----><path d="M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"><!----></path><!----><!--]--><!----><!----></svg><!----></button><!----></div></nav></div></header><!----> <main class="w-full flex-1"><!----><article class="mt-header mx-auto w-full max-w-3xl px-4 pb-36"><header class="mb-8 text-center md:mb-12"><!--[!--><!--]--> <section class="mb-4 flex flex-wrap justify-center gap-2"><!--[--><div class="border-border rounded-xl border px-1.5 py-0.5"><a class="text-primary/70 hover:text-primary text-sm transition-colors duration-200" href="/blog?category=Javascript">Javascript</a></div><!--]--></section> <h1 class="mb-4 text-3xl font-bold break-words break-keep md:text-5xl">자바스크립트 연산자 오버로딩</h1> <section class="flex items-center justify-center space-x-4 text-sm text-gray-500 dark:text-gray-400"><div class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-calendar size-4"><!--[--><!----><path d="M8 2v4"><!----></path><!----><!----><path d="M16 2v4"><!----></path><!----><!----><rect width="18" height="18" x="3" y="4" rx="2"><!----></rect><!----><!----><path d="M3 10h18"><!----></path><!----><!--]--><!----><!----></svg><!----> <span>2025. 12. 02</span></div></section></header> <section class="prose dark:prose-invert prose-lime max-w-none"><!----> <nav class="toc"><ol class="toc-level toc-level-1"><li class="toc-item toc-item-h1"><a class="toc-link toc-link-h1" href="#의문">의문</a></li><li class="toc-item toc-item-h1"><a class="toc-link toc-link-h1" href="#자바스크립트의-연산자-오버로딩">자바스크립트의 연산자 오버로딩</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#1-형-변환-이용하기">1. 형 변환 이용하기</a><ol class="toc-level toc-level-3"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#11-숫자-연산-흉내-내기-valueof">1.1 숫자 연산 흉내 내기 (valueOf)</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#12-문자열-연산-흉내-내기-tostring">1.2 문자열 연산 흉내 내기 (toString)</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#13-한계점">1.3 한계점</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#2-연산자-모양을-한-메소드-정의하기">2. 연산자 모양을 한 메소드 정의하기</a><ol class="toc-level toc-level-3"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#21-메소드-정의">2.1 메소드 정의</a><ol class="toc-level toc-level-4"><li class="toc-item toc-item-h4"><a class="toc-link toc-link-h4" href="#22-한계점">2.2 한계점</a></li></ol></li></ol></li></ol></li></ol></nav><h1 id="의문"><a aria-hidden="true" tabindex="-1" href="#의문"><span class="icon icon-link"></span></a>의문</h1> <p>개발을 하다 보면 종종 이상한 것에 꽂힐 때가 있다.</p> <p>2차원 좌표계(x, y)를 다루는 로직을 작성하던 중에 문득 든 생각이 있었다.</p> <p>두 좌표를 더하는 연산을 구현해야 했는데, 문득 <code>자바나 C++ 같은 언어들의 연산자 오버로딩(Operator Overloading) 기능은 없는걸까?</code> 라는 생각이 들었다.</p> <pre data-code-title="코드"><code><span data-line-number="1"><span style="color: #758575DD">// 현재 방식</span></span>
<span data-line-number="2"><span style="color: #CB7676">const </span><span style="color: #BD976A">cell3</span><span style="color: #CB7676"> </span><span style="color: #666666">=</span><span style="color: #CB7676"> </span><span style="color: #BD976A">cell1</span><span style="color: #666666">.</span><span style="color: #80A665">add</span><span style="color: #666666">(</span><span style="color: #BD976A">cell2</span><span style="color: #666666">);</span></span>
<span data-line-number="3"></span>
<span data-line-number="4"><span style="color: #758575DD">// 원하는 방식</span></span>
<span data-line-number="5"><span style="color: #CB7676">const </span><span style="color: #BD976A">result</span><span style="color: #CB7676"> </span><span style="color: #666666">=</span><span style="color: #CB7676"> </span><span style="color: #BD976A">cell1</span><span style="color: #CB7676"> + </span><span style="color: #BD976A">cell2</span><span style="color: #666666">;</span></span>
</code></pre> <p>result.x = cell1.x + cell2.x 처럼 풀어서 쓰거나 add 메소드를 만드는 것보다, 직관적으로 + 기호를 쓰고 싶다는 욕망에 사로잡히기 시작했다.</p> <p>“자바스크립트라고 안 될 리가 없지 않나?” 라는 생각으로 구글링을 시작했고, 수년 전 스택오버플로우에서 흥미로운 토론을 찾을 수 있었다.</p> <p>이번 글에서는 자바스크립트에서 연산자 오버로딩을 흉내 내는 몇 가지 꼼수와, 그 끝에 내린 결론을 기록한다.</p> <h1 id="자바스크립트의-연산자-오버로딩"><a aria-hidden="true" tabindex="-1" href="#자바스크립트의-연산자-오버로딩"><span class="icon icon-link"></span></a>자바스크립트의 연산자 오버로딩</h1> <p>자바스크립트는 공식적으로 연산자 오버로딩을 지원하지 않는다. 하지만 자바스크립트의 유연함(혹은 허점)을 이용해 비슷하게 동작하도록 만들 수는 있다.</p> <blockquote><p>예제 코드는 TypeScript로 작성되었습니다.</p></blockquote> <h2 id="1-형-변환-이용하기"><a aria-hidden="true" tabindex="-1" href="#1-형-변환-이용하기"><span class="icon icon-link"></span></a>1. 형 변환 이용하기</h2> <p>자바스크립트 엔진은 객체끼리 연산을 시도할 때, 해당 객체를 원시값(Primitive)으로 변환한다. 이때 호출되는 valueOf나 toString 메소드를 가로채는 방법이다.</p> <h3 id="11-숫자-연산-흉내-내기-valueof"><a aria-hidden="true" tabindex="-1" href="#11-숫자-연산-흉내-내기-valueof"><span class="icon icon-link"></span></a>1.1 숫자 연산 흉내 내기 (valueOf)</h3> <pre data-code-title="valueOf를 이용한 형 변환 방식"><code><span data-line-number="1"><span style="color: #CB7676">class</span><span style="color: #DBD7CAEE"> </span><span style="color: #5DA9A7">Thing</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">{</span></span>
<span data-line-number="2"><span style="color: #DBD7CAEE">    </span><span style="color: #CB7676">constructor</span><span style="color: #666666">(</span><span style="color: #CB7676">private</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">value</span><span style="color: #666666">: </span><span style="color: #5DA9A7">number</span><span style="color: #666666">)</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">{}</span></span>
<span data-line-number="3"><span style="color: #DBD7CAEE">    </span></span>
<span data-line-number="4"><span style="color: #DBD7CAEE">    </span><span style="color: #80A665">valueOf</span><span style="color: #666666">()</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">{</span></span>
<span data-line-number="5"><span style="color: #DBD7CAEE">      </span><span style="color: #4D9375">return</span><span style="color: #DBD7CAEE"> </span><span style="color: #C99076">this</span><span style="color: #666666">.</span><span style="color: #BD976A">value</span><span style="color: #666666">;</span></span>
<span data-line-number="6"><span style="color: #DBD7CAEE">    </span><span style="color: #666666">}</span></span>
<span data-line-number="7"><span style="color: #666666">}</span></span>
<span data-line-number="8"></span>
<span data-line-number="9"><span style="color: #CB7676">const </span><span style="color: #BD976A">a</span><span style="color: #CB7676"> </span><span style="color: #666666">=</span><span style="color: #CB7676"> new </span><span style="color: #80A665">Thing</span><span style="color: #666666">(</span><span style="color: #4C9A91">1</span><span style="color: #666666">);</span></span>
<span data-line-number="10"><span style="color: #CB7676">const </span><span style="color: #BD976A">b</span><span style="color: #CB7676"> </span><span style="color: #666666">=</span><span style="color: #CB7676"> new </span><span style="color: #80A665">Thing</span><span style="color: #666666">(</span><span style="color: #4C9A91">3</span><span style="color: #666666">);</span></span>
<span data-line-number="11"></span>
<span data-line-number="12"><span style="color: #758575DD">// @ts-ignore: TS2365 에러 무시 (TypeScript는 이를 허용하지 않음)</span></span>
<span data-line-number="13"><span style="color: #BD976A">console</span><span style="color: #666666">.</span><span style="color: #80A665">log</span><span style="color: #666666">(</span><span style="color: #BD976A">a</span><span style="color: #DBD7CAEE"> </span><span style="color: #CB7676">+</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">b</span><span style="color: #666666">);</span><span style="color: #DBD7CAEE"> </span><span style="color: #758575DD">// 출력: 4</span></span>
</code></pre> <h3 id="12-문자열-연산-흉내-내기-tostring"><a aria-hidden="true" tabindex="-1" href="#12-문자열-연산-흉내-내기-tostring"><span class="icon icon-link"></span></a>1.2 문자열 연산 흉내 내기 (toString)</h3> <pre data-code-title="toString을 이용한 형 변환 방식"><code><span data-line-number="1"><span style="color: #CB7676">class</span><span style="color: #DBD7CAEE"> </span><span style="color: #5DA9A7">ThingStr</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">{</span><span style="color: #DBD7CAEE">  </span></span>
<span data-line-number="2"><span style="color: #DBD7CAEE">    </span><span style="color: #CB7676">constructor</span><span style="color: #666666">(</span><span style="color: #CB7676">private</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">val</span><span style="color: #666666">: </span><span style="color: #5DA9A7">string</span><span style="color: #666666">)</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">{}</span></span>
<span data-line-number="3"><span style="color: #DBD7CAEE">    </span></span>
<span data-line-number="4"><span style="color: #DBD7CAEE">    </span><span style="color: #80A665">toString</span><span style="color: #666666">()</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">{</span><span style="color: #DBD7CAEE">  </span></span>
<span data-line-number="5"><span style="color: #DBD7CAEE">      </span><span style="color: #4D9375">return</span><span style="color: #DBD7CAEE"> </span><span style="color: #C99076">this</span><span style="color: #666666">.</span><span style="color: #BD976A">val</span><span style="color: #666666">.</span><span style="color: #80A665">toUpperCase</span><span style="color: #666666">();</span><span style="color: #DBD7CAEE">  </span></span>
<span data-line-number="6"><span style="color: #DBD7CAEE">    </span><span style="color: #666666">}</span></span>
<span data-line-number="7"><span style="color: #666666">}</span></span>
<span data-line-number="8"></span>
<span data-line-number="9"><span style="color: #CB7676">const </span><span style="color: #BD976A">a</span><span style="color: #CB7676"> </span><span style="color: #666666">=</span><span style="color: #CB7676"> new </span><span style="color: #80A665">ThingStr</span><span style="color: #666666">(</span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">a</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">);</span><span style="color: #DBD7CAEE">  </span></span>
<span data-line-number="10"><span style="color: #CB7676">const </span><span style="color: #BD976A">b</span><span style="color: #CB7676"> </span><span style="color: #666666">=</span><span style="color: #CB7676"> new </span><span style="color: #80A665">ThingStr</span><span style="color: #666666">(</span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">b</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">);</span></span>
<span data-line-number="11"></span>
<span data-line-number="12"><span style="color: #758575DD">// @ts-ignore</span></span>
<span data-line-number="13"><span style="color: #BD976A">console</span><span style="color: #666666">.</span><span style="color: #80A665">log</span><span style="color: #666666">(</span><span style="color: #BD976A">a</span><span style="color: #DBD7CAEE"> </span><span style="color: #CB7676">+</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">b</span><span style="color: #666666">);</span><span style="color: #DBD7CAEE"> </span><span style="color: #758575DD">// 출력: AB</span></span>
</code></pre> <h3 id="13-한계점"><a aria-hidden="true" tabindex="-1" href="#13-한계점"><span class="icon icon-link"></span></a>1.3 한계점</h3> <p>이 방식은 런타임에서 4나 “AB” 같은 원시값을 뱉어낼 뿐, 새로운 객체(인스턴스)를 반환하지 않는다.</p> <p>원하는 객체 연산(Ex. Vector + Vector = Vector)을 구현하기에는 적합하지 않다.
게다가 TypeScript에서는 <code>The operator + cannot be applied to types...</code>라는 에러를 뿜어내며 잘못된 패턴이라고 알려주기까지 한다.</p> <h2 id="2-연산자-모양을-한-메소드-정의하기"><a aria-hidden="true" tabindex="-1" href="#2-연산자-모양을-한-메소드-정의하기"><span class="icon icon-link"></span></a>2. 연산자 모양을 한 메소드 정의하기</h2> <h3 id="21-메소드-정의"><a aria-hidden="true" tabindex="-1" href="#21-메소드-정의"><span class="icon icon-link"></span></a>2.1 메소드 정의</h3> <p>해당 코드는 스택 오버플로우를 적극 차용한 코드다. 처음 이 코드를 보았을 때, 자바스크립트의 특징을 진짜 잘 이용했다는 생각이 들었다.</p> <p>자바스크립트 객체의 키에는 문자열이 들어갈 수 있다는 점을 이용한 상상도 못했던 코드였다.</p> <pre data-code-title="메소드를 연산자 기호로 만드는 방식"><code><span data-line-number="1"><span style="color: #CB7676">class</span><span style="color: #DBD7CAEE"> </span><span style="color: #5DA9A7">Vector2</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">{</span></span>
<span data-line-number="2"><span style="color: #DBD7CAEE">    </span><span style="color: #CB7676">constructor</span><span style="color: #666666">(</span><span style="color: #CB7676">public</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">x</span><span style="color: #666666">: </span><span style="color: #5DA9A7">number</span><span style="color: #666666">,</span><span style="color: #DBD7CAEE"> </span><span style="color: #CB7676">public</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">y</span><span style="color: #666666">: </span><span style="color: #5DA9A7">number</span><span style="color: #666666">)</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">{}</span></span>
<span data-line-number="3"><span style="color: #DBD7CAEE">    </span></span>
<span data-line-number="4"><span style="color: #DBD7CAEE">    </span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">+</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">(</span><span style="color: #BD976A">vector</span><span style="color: #666666">: </span><span style="color: #5DA9A7">Vector2</span><span style="color: #666666">)</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">{</span></span>
<span data-line-number="5"><span style="color: #DBD7CAEE">      </span><span style="color: #4D9375">return</span><span style="color: #DBD7CAEE"> </span><span style="color: #CB7676">new</span><span style="color: #DBD7CAEE"> </span><span style="color: #80A665">Vector2</span><span style="color: #666666">(</span><span style="color: #C99076">this</span><span style="color: #666666">.</span><span style="color: #BD976A">x</span><span style="color: #DBD7CAEE"> </span><span style="color: #CB7676">+</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">vector</span><span style="color: #666666">.</span><span style="color: #BD976A">x</span><span style="color: #666666">,</span><span style="color: #DBD7CAEE"> </span><span style="color: #C99076">this</span><span style="color: #666666">.</span><span style="color: #BD976A">y</span><span style="color: #DBD7CAEE"> </span><span style="color: #CB7676">+</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">vector</span><span style="color: #666666">.</span><span style="color: #BD976A">y</span><span style="color: #666666">);</span></span>
<span data-line-number="6"><span style="color: #DBD7CAEE">    </span><span style="color: #666666">}</span></span>
<span data-line-number="7"><span style="color: #DBD7CAEE">    </span></span>
<span data-line-number="8"><span style="color: #DBD7CAEE">    </span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">==</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">(</span><span style="color: #BD976A">vector</span><span style="color: #666666">: </span><span style="color: #5DA9A7">Vector2</span><span style="color: #666666">)</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">{</span></span>
<span data-line-number="9"><span style="color: #DBD7CAEE">      </span><span style="color: #4D9375">return</span><span style="color: #DBD7CAEE"> </span><span style="color: #C99076">this</span><span style="color: #666666">.</span><span style="color: #BD976A">x</span><span style="color: #DBD7CAEE"> </span><span style="color: #CB7676">===</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">vector</span><span style="color: #666666">.</span><span style="color: #BD976A">x</span><span style="color: #DBD7CAEE"> </span><span style="color: #CB7676">&amp;&amp;</span><span style="color: #DBD7CAEE"> </span><span style="color: #C99076">this</span><span style="color: #666666">.</span><span style="color: #BD976A">y</span><span style="color: #DBD7CAEE"> </span><span style="color: #CB7676">===</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">vector</span><span style="color: #666666">.</span><span style="color: #BD976A">y</span><span style="color: #666666">;</span></span>
<span data-line-number="10"><span style="color: #DBD7CAEE">    </span><span style="color: #666666">}</span></span>
<span data-line-number="11"><span style="color: #DBD7CAEE">    </span></span>
<span data-line-number="12"><span style="color: #DBD7CAEE">    </span><span style="color: #80A665">toString</span><span style="color: #666666">()</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">{</span></span>
<span data-line-number="13"><span style="color: #DBD7CAEE">      </span><span style="color: #4D9375">return</span><span style="color: #DBD7CAEE"> </span><span style="color: #C98A7DAA">`</span><span style="color: #C98A7D">Vector2 [</span><span style="color: #666666">${</span><span style="color: #C99076">this</span><span style="color: #666666">.</span><span style="color: #C98A7D">x</span><span style="color: #666666">}</span><span style="color: #C98A7D">, </span><span style="color: #666666">${</span><span style="color: #C99076">this</span><span style="color: #666666">.</span><span style="color: #C98A7D">y</span><span style="color: #666666">}</span><span style="color: #C98A7D">]</span><span style="color: #C98A7DAA">`</span><span style="color: #666666">;</span></span>
<span data-line-number="14"><span style="color: #DBD7CAEE">    </span><span style="color: #666666">}</span></span>
<span data-line-number="15"><span style="color: #666666">};</span></span>
<span data-line-number="16"></span>
<span data-line-number="17"><span style="color: #CB7676">const </span><span style="color: #BD976A">vec1</span><span style="color: #CB7676"> </span><span style="color: #666666">=</span><span style="color: #CB7676"> new </span><span style="color: #80A665">Vector2</span><span style="color: #666666">(</span><span style="color: #4C9A91">10</span><span style="color: #666666">,</span><span style="color: #CB7676"> </span><span style="color: #4C9A91">20</span><span style="color: #666666">);</span></span>
<span data-line-number="18"><span style="color: #CB7676">const </span><span style="color: #BD976A">vec2</span><span style="color: #CB7676"> </span><span style="color: #666666">=</span><span style="color: #CB7676"> new </span><span style="color: #80A665">Vector2</span><span style="color: #666666">(</span><span style="color: #4C9A91">20</span><span style="color: #666666">,</span><span style="color: #CB7676"> </span><span style="color: #4C9A91">30</span><span style="color: #666666">);</span></span>
<span data-line-number="19"><span style="color: #CB7676">const </span><span style="color: #BD976A">vec3</span><span style="color: #CB7676"> </span><span style="color: #666666">=</span><span style="color: #CB7676"> new </span><span style="color: #80A665">Vector2</span><span style="color: #666666">(</span><span style="color: #4C9A91">1</span><span style="color: #666666">,</span><span style="color: #CB7676"> </span><span style="color: #4C9A91">2</span><span style="color: #666666">);</span></span>
<span data-line-number="20"></span>
<span data-line-number="21"><span style="color: #CB7676">const </span><span style="color: #BD976A">sumVec</span><span style="color: #CB7676"> </span><span style="color: #666666">=</span><span style="color: #CB7676"> </span><span style="color: #666666">(</span><span style="color: #BD976A">vec1</span><span style="color: #666666">)[</span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">+</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">](</span><span style="color: #BD976A">vec2</span><span style="color: #666666">)[</span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">+</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">](</span><span style="color: #BD976A">vec3</span><span style="color: #666666">);</span></span>
<span data-line-number="22"><span style="color: #CB7676">const </span><span style="color: #BD976A">isEqual</span><span style="color: #CB7676"> </span><span style="color: #666666">=</span><span style="color: #CB7676"> </span><span style="color: #666666">(</span><span style="color: #BD976A">vec1</span><span style="color: #666666">)[</span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">==</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">](</span><span style="color: #BD976A">vec2</span><span style="color: #666666">);</span></span>
<span data-line-number="23"></span>
<span data-line-number="24"><span style="color: #BD976A">console</span><span style="color: #666666">.</span><span style="color: #80A665">log</span><span style="color: #666666">(</span><span style="color: #C98A7DAA">`</span><span style="color: #666666">${</span><span style="color: #C98A7D">sumVec</span><span style="color: #666666">}</span><span style="color: #C98A7DAA">`</span><span style="color: #666666">);</span><span style="color: #DBD7CAEE"> </span><span style="color: #758575DD">// Vector2 [31, 52]</span></span>
</code></pre> <h4 id="22-한계점"><a aria-hidden="true" tabindex="-1" href="#22-한계점"><span class="icon icon-link"></span></a>2.2 한계점</h4> <p><code>vec1 + vec2</code>가 아니라 <code>vec1 ["+"] (vec2)</code>라니… 참신하긴 하지만 가독성이 절망적이다.</p> <p>원리는 동일하고, <code>add</code>를 <code>+</code>로 바꾸기만 한 것 일뿐…</p> <p>일반적인 메소드 호출(add)보다 타이핑하기도 어렵고, 기존 코드와 완전히 다른 형식에 이 코드를 읽는 사람들의 가독성도 심하게 해친다.</p> <p>여러 꼼수들을 직접 구현해 보고 나서야 깨달은 것들</p> <ul><li>언어의 설계를 거스르지 말자 <ul><li>자바스크립트가 연산자 오버로딩을 지원하지 않는 데에는 이유가 있다.</li> <li><a href="https://github.com/tc39/proposal-operator-overloading" rel="nofollow">TC39 Proposal: Operator Overloading</a></li></ul></li> <li>가독성의 재정의 <ul><li><ul><li>기호를 쓰는 것이 수학적으로는 아름다울지 몰라도, 프로그래밍 관점에서는 add()라는 명시적인 메소드가 훨씬 읽기 좋고 예측 가능하다.</li></ul></li> <li>또한, 굳이 연산자 오버로딩이 필요한 작업이냐고 가독성에 대해 다시 생각해보라는 의견도 상당히 있었다.</li></ul></li></ul> <p>Cell1 + Cell2에 대한 미련을 버리고, 얌전히 <code>Cell1.add(Cell2)</code>를 구현하여 사용하기로 했다.</p><!----></section> <footer class="border-t-border mt-24 border-t py-4"><section class="flex flex-wrap gap-2"><!--[--><a href="/blog?tag=Javascript" class="text-primary/50 hover:text-primary border-border hover:bg-accent flex items-center rounded-xl border px-1 text-sm transition-colors duration-200">#Javascript</a><a href="/blog?tag=Typescript" class="text-primary/50 hover:text-primary border-border hover:bg-accent flex items-center rounded-xl border px-1 text-sm transition-colors duration-200">#Typescript</a><!--]--></section></footer></article><!----><!----></main> <footer class="bg-muted"><div class="mx-auto flex flex-col items-center justify-between gap-4 p-4 text-gray-600 dark:text-gray-400"><div class="text-sm"><p>© 2025 markab-j. All rights reserved.</p></div> <div class="flex items-center space-x-4"><a href="https://github.com/markab-j" target="_blank" rel="noopener noreferrer" aria-label="GitHub Profile" class="hover:text-gray-900 dark:hover:text-gray-100"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-github"><!--[--><!----><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"><!----></path><!----><!----><path d="M9 18c-4.51 2-5-2-7-2"><!----></path><!----><!--]--><!----><!----></svg><!----></a> <a href="mailto:your-email@example.com" aria-label="Email" class="hover:text-gray-900 dark:hover:text-gray-100" rel="external"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-mail"><!--[--><!----><path d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"><!----></path><!----><!----><rect x="2" y="4" width="20" height="16" rx="2"><!----></rect><!----><!--]--><!----><!----></svg><!----></a></div></div></footer><!----></div><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_90nlyy = {
						base: new URL("..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../_app/immutable/entry/start.ChMxvzUG.js"),
						import("../_app/immutable/entry/app.BFT2A5C2.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 5],
							data: [null,null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
  </body>
</html>
