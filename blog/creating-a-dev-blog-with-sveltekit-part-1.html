<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1"
    />
    
		<link href="../_app/immutable/assets/0.BOXC-usj.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.DehJBHPC.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/l6y6EUT4.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/kdTHykGj.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Bnp0l1rp.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/D0iwhpLH.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/Cvek_B76.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.8tpYuo3g.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/PPVm8Dsz.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/DsnmJJEf.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CXjft6v8.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CZxCv9VC.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/B_wVCKFn.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/D29xPeYc.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.DTiRzILf.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BnpJiuoK.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CqkleIqs.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/D8iWDPq2.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BKK0jMZx.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/_AuKuasQ.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BR7wxYWc.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BUwVnmNy.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CCcTBLnX.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/0JNfDbnS.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/7nLPwoo4.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/5.U8e39I9o.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BAnjKx80.js"><!--[--><link rel="icon" href="/favicon.svg"/><!--]--><!--[--><!--[!--><!--]--> <!----><script>(function setInitialMode({ defaultMode = "system", themeColors: themeColors2, darkClassNames: darkClassNames2 = ["dark"], lightClassNames: lightClassNames2 = [], defaultTheme = "", modeStorageKey: modeStorageKey2 = "mode-watcher-mode", themeStorageKey: themeStorageKey2 = "mode-watcher-theme" }) {
  const rootEl = document.documentElement;
  const mode = localStorage.getItem(modeStorageKey2) ?? defaultMode;
  const theme = localStorage.getItem(themeStorageKey2) ?? defaultTheme;
  const light = mode === "light" || mode === "system" && window.matchMedia("(prefers-color-scheme: light)").matches;
  if (light) {
    if (darkClassNames2.length)
      rootEl.classList.remove(...darkClassNames2.filter(Boolean));
    if (lightClassNames2.length)
      rootEl.classList.add(...lightClassNames2.filter(Boolean));
  } else {
    if (lightClassNames2.length)
      rootEl.classList.remove(...lightClassNames2.filter(Boolean));
    if (darkClassNames2.length)
      rootEl.classList.add(...darkClassNames2.filter(Boolean));
  }
  rootEl.style.colorScheme = light ? "light" : "dark";
  if (themeColors2) {
    const themeMetaEl = document.querySelector('meta[name="theme-color"]');
    if (themeMetaEl) {
      themeMetaEl.setAttribute("content", mode === "light" ? themeColors2.light : themeColors2.dark);
    }
  }
  if (theme) {
    rootEl.setAttribute("data-theme", theme);
    localStorage.setItem(themeStorageKey2, theme);
  }
  localStorage.setItem(modeStorageKey2, mode);
})({"defaultMode":"system","darkClassNames":["dark"],"lightClassNames":[],"defaultTheme":"","modeStorageKey":"mode-watcher-mode","themeStorageKey":"mode-watcher-theme"});</script><!----><!--]--><!--[--><meta data-key="description" name="description" content="Svelte 5을 사용하여 개발 블로그를 만드는 과정을 기록한다."/> <meta property="og:type" content="article"/> <meta property="og:title" content="SvelteKit으로 정적 블로그 만들기"/> <meta name="twitter:title" content="SvelteKit으로 정적 블로그 만들기"/> <meta property="og:description" content="Svelte 5을 사용하여 개발 블로그를 만드는 과정을 기록한다."/> <meta name="twitter:description" content="Svelte 5을 사용하여 개발 블로그를 만드는 과정을 기록한다."/> <meta property="og:image:width" content="undefined"/> <meta property="og:image:height" content="undefined"/><!--]--><title>SvelteKit으로 정적 블로그 만들기</title>
  </head>
  <body data-sveltekit-preload-data="hover">
    <div style="display: contents"><!--[--><!--[--><!----><!--[!--><!--]--><!----> <div class="flex min-h-screen flex-col"><header class="fixed inset-x-0 top-0 z-50 p-4"><div class="dark:bg-secondary/50 mx-auto flex min-h-16 max-w-4xl items-center justify-between overflow-hidden rounded-2xl bg-white/50 px-4 py-2 shadow-lg ring-1 ring-black/5 backdrop-blur-sm"><div class="pointer-events-none absolute inset-0 rounded-[inherit] border-[length:var(--border-beam-width)] border-transparent [mask-image:linear-gradient(transparent,transparent),linear-gradient(#000,#000)] [mask-composite:intersect] [mask-clip:padding-box,border-box]" style="--border-beam-width: 1px;"><!----><!----><!----><!----><!--[--><!----><!----><!----><!----><!----><!----><!----><!----><div class="absolute aspect-square bg-gradient-to-l from-[var(--color-from)] via-[var(--color-to)] to-transparent" style=" width: 60px; offset-path: rect(0 auto auto 0 round 60px); --color-from: #AAA; --color-to: #AAA;  "></div><!----><!----><!----><!----><!----><!----><!----><!----> <!--[!--><!--]--><!----><!--]--><!----><!----><!----><!----><!----></div><!----> <!--[--><!--]--><!----> <a href="../" aria-label="Go Home"><img src="data:image/svg+xml,%3csvg%20width='512'%20height='512'%20viewBox='0%200%20512%20523'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='256'%20cy='267'%20r='256'%20fill='currentColor'/%3e%3cpath%20d='M227.483%20309.754V138.172H282.854V309.754C282.854%20326.388%20279.095%20340.743%20271.575%20352.82C264.17%20364.783%20254.087%20374.069%20241.326%20380.677C228.68%20387.171%20214.381%20390.418%20198.431%20390.418C182.024%20390.418%20167.441%20387.684%20154.681%20382.215C141.92%20376.632%20131.894%20368.144%20124.603%20356.751C117.425%20345.244%20113.836%20330.604%20113.836%20312.83H169.549C169.549%20321.603%20170.631%20328.553%20172.796%20333.68C175.075%20338.693%20178.379%20342.225%20182.708%20344.275C187.037%20346.326%20192.278%20347.352%20198.431%20347.352C204.355%20347.352%20209.482%20345.927%20213.812%20343.079C218.141%20340.117%20221.502%20335.844%20223.895%20330.262C226.287%20324.565%20227.483%20317.729%20227.483%20309.754Z'%20fill='white'/%3e%3cpath%20d='M282.068%20179.565V325H228.577V140.088H278.821L282.068%20179.565ZM275.062%20226.05L261.731%20226.392C261.731%20212.492%20263.44%20200.016%20266.858%20188.965C270.276%20177.913%20275.118%20168.514%20281.385%20160.767C287.765%20152.905%20295.341%20146.924%20304.114%20142.822C313.001%20138.721%20322.799%20136.67%20333.509%20136.67C342.168%20136.67%20350.086%20137.923%20357.264%20140.43C364.441%20142.936%20370.594%20146.981%20375.721%20152.563C380.962%20158.032%20384.949%20165.324%20387.684%20174.438C390.418%20183.439%20391.785%20194.548%20391.785%20207.764V325H338.123V207.593C338.123%20199.845%20337.041%20193.864%20334.876%20189.648C332.711%20185.433%20329.521%20182.471%20325.306%20180.762C321.204%20179.053%20316.191%20178.198%20310.267%20178.198C304%20178.198%20298.646%20179.451%20294.202%20181.958C289.759%20184.351%20286.113%20187.712%20283.265%20192.041C280.416%20196.37%20278.309%20201.44%20276.941%20207.251C275.688%20213.062%20275.062%20219.328%20275.062%20226.05Z'%20fill='white'/%3e%3crect%20x='225'%20y='194'%20width='60'%20height='40'%20fill='currentColor'/%3e%3c/svg%3e" alt="Blog Logo" class="size-8"/></a> <nav class="flex gap-4"><ul class="flex items-center space-x-6 text-sm font-medium"><!--[--><li><a href="../about" class="hover:text-foreground/50 transition-colors duration-200">About</a></li><li><a href="../blog" class="hover:text-foreground/50 transition-colors duration-200">Blog</a></li><li><a href="../projects" class="hover:text-foreground/50 transition-colors duration-200">Project</a></li><!--]--></ul> <div class="flex items-center space-x-4 px-2"><button type="button" aria-label="theme toggle" class="hover:text-foreground/50 relative size-5"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-sun absolute inset-0 size-5 !transition-transform duration-300 [backface-visibility:hidden] dark:[transform:rotateY(180deg)]"><!--[--><!----><circle cx="12" cy="12" r="4"><!----></circle><!----><!----><path d="M12 2v2"><!----></path><!----><!----><path d="M12 20v2"><!----></path><!----><!----><path d="m4.93 4.93 1.41 1.41"><!----></path><!----><!----><path d="m17.66 17.66 1.41 1.41"><!----></path><!----><!----><path d="M2 12h2"><!----></path><!----><!----><path d="M20 12h2"><!----></path><!----><!----><path d="m6.34 17.66-1.41 1.41"><!----></path><!----><!----><path d="m19.07 4.93-1.41 1.41"><!----></path><!----><!--]--><!----><!----></svg><!----> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-moon absolute inset-0 size-5 [transform:rotateY(180deg)] !transition-transform duration-300 [backface-visibility:hidden] dark:[transform:rotateY(360deg)]"><!--[--><!----><path d="M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401"><!----></path><!----><!--]--><!----><!----></svg><!----></button><!----></div></nav></div></header><!----> <main class="w-full flex-1"><!----><article class="mt-header mx-auto w-full max-w-3xl px-4 pb-36"><header class="mb-8 text-center md:mb-12"><!--[!--><!--]--> <section class="mb-4 flex flex-wrap justify-center gap-2"><!--[--><div class="border-border rounded-xl border px-1.5 py-0.5"><a class="text-primary/70 hover:text-primary text-sm transition-colors duration-200" href="/blog?category=SvelteKit">SvelteKit</a></div><!--]--></section> <h1 class="mb-4 text-3xl font-bold break-words break-keep md:text-5xl">SvelteKit으로 정적 블로그 만들기</h1> <section class="flex items-center justify-center space-x-4 text-sm text-gray-500 dark:text-gray-400"><div class="flex items-center space-x-1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-calendar size-4"><!--[--><!----><path d="M8 2v4"><!----></path><!----><!----><path d="M16 2v4"><!----></path><!----><!----><rect width="18" height="18" x="3" y="4" rx="2"><!----></rect><!----><!----><path d="M3 10h18"><!----></path><!----><!--]--><!----><!----></svg><!----> <span>2025. 09. 08</span></div></section></header> <section class="prose dark:prose-invert prose-lime max-w-none"><!----> <nav class="toc"><ol class="toc-level toc-level-1"><li class="toc-item toc-item-h1"><a class="toc-link toc-link-h1" href="#프롤로그">프롤로그</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#왜-블로그-플랫폼을-사용하지-않고">왜 블로그 플랫폼을 사용하지 않고?</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#svelte-kit을-선택한-이유">Svelte Kit을 선택한 이유</a></li></ol></li><li class="toc-item toc-item-h1"><a class="toc-link toc-link-h1" href="#sveltekit-프로젝트-초기-설정">SvelteKit 프로젝트 초기 설정</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#개발-환경">개발 환경</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#필수-설정">필수 설정</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#mdsvex로-마크다운-환경-구축하기">MDSvex로 마크다운 환경 구축하기</a></li></ol></li><li class="toc-item toc-item-h1"><a class="toc-link toc-link-h1" href="#동적-라우팅으로-게시글-페이지">동적 라우팅으로 게시글 페이지</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#서버측-작업">서버측 작업</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#렌더링측-작업">렌더링측 작업</a></li></ol></li><li class="toc-item toc-item-h1"><a class="toc-link toc-link-h1" href="#모든-게시글-목록-가져오기">모든 게시글 목록 가져오기</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#서버측-작업-1">서버측 작업</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#렌더링측-작업-1">렌더링측 작업</a></li></ol></li><li class="toc-item toc-item-h1"><a class="toc-link toc-link-h1" href="#마치며">마치며</a></li></ol></nav><h1 id="프롤로그"><a aria-hidden="true" tabindex="-1" href="#프롤로그"><span class="icon icon-link"></span></a>프롤로그</h1> <h2 id="왜-블로그-플랫폼을-사용하지-않고"><a aria-hidden="true" tabindex="-1" href="#왜-블로그-플랫폼을-사용하지-않고"><span class="icon icon-link"></span></a>왜 블로그 플랫폼을 사용하지 않고?</h2> <p>블로그를 만들어야겠다고 마음먹었을 때, 당연히 velog나 Medium 같은 플랫폼을 가장 먼저 떠올렸다. 이미 수많은 개발자가 쓰고 있고, 글쓰기에만 집중할 수 있도록 모든 환경이 갖춰져 있으니 어찌 보면 가장 합리적인 선택지였다.</p> <p>하지만 나는 플랫폼에 종속되지 않은 나만의 블로그가 가지고 싶었다.</p> <p>나는 평소 e-book보다 종이책을 고집하는 편인데, e-book은 서비스가 종료되면 다시는 볼 수 없기 때문이다. 블로그에 쓰는 내 글도 똑같다고 생각했다.
나는 통제 가능한 상태를 유지하는 것이 좋다.</p> <p>이 생각은 최근 한 도서 플랫폼의 이슈를 보며 더욱 확고해졌다.</p> <h2 id="svelte-kit을-선택한-이유"><a aria-hidden="true" tabindex="-1" href="#svelte-kit을-선택한-이유"><span class="icon icon-link"></span></a>Svelte Kit을 선택한 이유</h2> <p>물론 플랫폼을 사용하지 않는다고 해서 모든 걸 처음부터 만들어야 하는 것은 아니다. 마음에 드는 템플릿을 골라 원하는 프레임워크로 시작할 수도 있다.</p> <p>사실 정적 블로그를 만드는 건 이번이 처음은 아니다. 이전에 Next.js로 한번 만들어본 경험이 있다. 그때 Next.js를 선택했던 이유는 거대한 생태계를 경험해보고 싶다는 마음이 가장 컸다. 다른 이유는 없었다. 당시에는 블로그 설계는커녕 어디서부터 시작해야 할지 감도 못 잡아서, 마음에 들었던 디자인의 블로그 템플릿의 구조를 뜯어보면서 거의 클론 코딩하듯 진행했었다.</p> <p>Svelte Kit이외에 여러 프레임워크들이 많다. Hugo, Astro, Gatsby 등.. 정적 사이트에 특화된 많은 프레임워크들이 존재한다.</p> <p>그래서 이번엔 왜 Svelte Kit을 선택했냐면, 가장 큰 이유는 먼저 러닝커브가 거의 없으면서도 처음 접하는 프레임워크이기 때문이다.</p> <p>Svelte 문법은 바닐라 자바스크립트와 매우 유사하다. 아니, 거의 같다고 봐도 된다. 비록 Svelte 5에서 룬(Rune) 문법이 생겨 React와 비슷한 형태가 되었지만, 그래서 그런지 오히려 내게는 적응이 더 쉬웠다.</p> <p>또, 정적 사이트 특화 프레임워크보다는 나중에 어딘가 쓸 일이 있지 않을까 하는 생각이다.</p> <h1 id="sveltekit-프로젝트-초기-설정"><a aria-hidden="true" tabindex="-1" href="#sveltekit-프로젝트-초기-설정"><span class="icon icon-link"></span></a>SvelteKit 프로젝트 초기 설정</h1> <h2 id="개발-환경"><a aria-hidden="true" tabindex="-1" href="#개발-환경"><span class="icon icon-link"></span></a>개발 환경</h2> <ul><li><code>bun 1.2.21</code></li> <li><code>Svelte ^5.0.0</code></li> <li><code>Svelte Kit ^2.22.0</code></li> <li><code>Typescript ^5.0.0</code></li></ul> <p>스벨트 킷 미니멀 템플릿을 사용했다.</p> <pre><code><span data-line-number="1"><span style="color: #DBD7CAEE">bunx sv create </span><span style="color: #CB7676">&lt;</span><span style="color: #DBD7CAEE">프로젝트 이름</span><span style="color: #CB7676">></span></span>
</code></pre> <p>프로젝트 세부 설정에서는 아래와 같은 옵션을 활성화 했다.</p> <ul><li>Typescript Syntax 사용</li> <li>Tailwind, Tailwind/typography</li> <li>ESLint, Prettier</li></ul> <h2 id="필수-설정"><a aria-hidden="true" tabindex="-1" href="#필수-설정"><span class="icon icon-link"></span></a>필수 설정</h2> <p>정적 블로그를 만들기 위해서는 Svelte Kit에게 정적 빌드 환경임을 알려주어야 한다.</p> <p>두가지 작업이 필요하다.</p> <ol><li><strong>어댑터 변경</strong></li></ol> <p>정적 빌드를 위한 어댑터를 설정해야 한다. 더욱 더 자세한 내용은 <a href="https://svelte.dev/docs/kit/adapter-static" rel="nofollow">Static Site Generation - Docs Svelte</a></p> <pre><code><span data-line-number="1"><span style="color: #DBD7CAEE">bun add -D @sveltejs/adapter-static</span></span>
</code></pre> <p>상단의 <code>import</code>를 수정한다.</p> <pre data-code-title="svelte.config.js"><code><span data-line-number="1"><span style="color: #4D9375">import</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">adapter</span><span style="color: #DBD7CAEE"> </span><span style="color: #4D9375">from</span><span style="color: #DBD7CAEE"> </span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">@sveltejs/adapter-static</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">;</span></span>
</code></pre> <ol start="2"><li><strong>최상단 <code>+layout.ts</code> 생성</strong></li></ol> <p><code>routes</code>의 최상단에 <code>+layout.ts</code>을 생성하고 아래와 같이 작성한다.</p> <pre><code><span data-line-number="1"><span style="color: #4D9375">export</span><span style="color: #CB7676"> const </span><span style="color: #BD976A">prerender</span><span style="color: #CB7676"> </span><span style="color: #666666">=</span><span style="color: #CB7676"> </span><span style="color: #4D9375">true</span><span style="color: #666666">;</span></span>
</code></pre> <p>이제 기본적인 Svelte Kit 준비는 끝났다.</p> <h2 id="mdsvex로-마크다운-환경-구축하기"><a aria-hidden="true" tabindex="-1" href="#mdsvex로-마크다운-환경-구축하기"><span class="icon icon-link"></span></a>MDSvex로 마크다운 환경 구축하기</h2> <p>정적 블로그에서는 블로그 글을 마크다운 문법으로 작성한 파일이 게시글 하나가 된다.</p> <p>블로그 게시글을 관리하기 위해 프로젝트 루트 경로에 <code>posts</code> 폴더를 생성했다.
앞으로 업로드될 게시글은 전부 이곳에 작성하면 된다.</p> <p>이제 마크다운 파일을 HTML로 변환해주는 작업이 필요하다.</p> <p>#\ -> h1</p> <p>이런 작업을 하기 위해서 자바스크립트에서는 <a href="https://github.com/unifiedjs/unified" rel="nofollow">unified</a>를 이용할 수 있다.</p> <p>하지만 이런 작업은 매우 번거롭기 때문에 Wrapper 라이브러리들을 찾았고, Svelte에서는 <code>mdsvex</code>를 찾았다.</p> <p>md + sve + x로 리액트 환경에서 사용했던 mdx의 이름에서 따온듯한 모습이었다.</p> <p>사용법은 아주 간단했다. preprocess에 mdsvex를 제공하기만 하면 된다.</p> <p>그리고 스벨트에서 md파일도 인식할 수 있도록 extensions에 각각 .md를 제공해준다.</p> <pre data-code-title="svelte.config.js"><code data-line-numbers=""><span data-line-number="1"><span style="color: #4D9375">import</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">{</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">mdsvex</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">}</span><span style="color: #DBD7CAEE"> </span><span style="color: #4D9375">from</span><span style="color: #DBD7CAEE"> </span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">mdsvex</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">;</span></span>
<span data-line-number="2"><span style="color: #4D9375">import</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">rehypeAutolinkHeadings</span><span style="color: #DBD7CAEE"> </span><span style="color: #4D9375">from</span><span style="color: #DBD7CAEE"> </span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">rehype-autolink-headings</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">;</span></span>
<span data-line-number="3"><span style="color: #4D9375">import</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">rehypeSlug</span><span style="color: #DBD7CAEE"> </span><span style="color: #4D9375">from</span><span style="color: #DBD7CAEE"> </span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">rehype-slug</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">;</span></span>
<span data-line-number="4"><span style="color: #4D9375">import</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">rehypeToc</span><span style="color: #DBD7CAEE"> </span><span style="color: #4D9375">from</span><span style="color: #DBD7CAEE"> </span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">@jsdevtools/rehype-toc</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">;</span></span>
<span data-line-number="5"><span style="color: #4D9375">import</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">adapter</span><span style="color: #DBD7CAEE"> </span><span style="color: #4D9375">from</span><span style="color: #DBD7CAEE"> </span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">@sveltejs/adapter-static</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">;</span></span>
<span data-line-number="6"><span style="color: #4D9375">import</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">{</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">vitePreprocess</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">}</span><span style="color: #DBD7CAEE"> </span><span style="color: #4D9375">from</span><span style="color: #DBD7CAEE"> </span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">@sveltejs/vite-plugin-svelte</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">;</span></span>
<span data-line-number="7"><span style="color: #4D9375">import</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">{</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">createHighlighter</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">}</span><span style="color: #DBD7CAEE"> </span><span style="color: #4D9375">from</span><span style="color: #DBD7CAEE"> </span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">@bitmachina/highlighter</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">;</span></span>
<span data-line-number="8"></span>
<span data-line-number="9"><span style="color: #758575DD">/** </span><span style="color: #666666">@</span><span style="color: #4D9375">type</span><span style="color: #758575DD"> </span><span style="color: #666666">{</span><span style="color: #5DA9A7">import('@sveltejs/kit').Config</span><span style="color: #666666">}</span><span style="color: #758575DD"> */</span></span>
<span data-line-number="10"><span style="color: #CB7676">const </span><span style="color: #BD976A">config</span><span style="color: #CB7676"> </span><span style="color: #666666">=</span><span style="color: #CB7676"> </span><span style="color: #666666">{</span></span>
<span data-line-number="11"><span style="color: #CB7676">  </span><span style="color: #B8A965">preprocess</span><span style="color: #666666">:</span><span style="color: #CB7676"> </span><span style="color: #666666">[</span></span>
<span data-line-number="12"><span style="color: #CB7676">    </span><span style="color: #80A665">vitePreprocess</span><span style="color: #666666">(),</span></span>
<span data-highlighted="" data-line-number="13"><span style="color: #CB7676">    </span><span style="color: #80A665">mdsvex</span><span style="color: #666666">({</span></span>
<span data-highlighted="" data-line-number="14"><span style="color: #CB7676">      </span><span style="color: #B8A965">extensions</span><span style="color: #666666">:</span><span style="color: #CB7676"> </span><span style="color: #666666">[</span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">.md</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">],</span></span>
<span data-highlighted="" data-line-number="15"><span style="color: #CB7676">    </span><span style="color: #666666">}),</span></span>
<span data-highlighted="" data-line-number="16"><span style="color: #CB7676">  </span><span style="color: #666666">],</span></span>
<span data-highlighted="" data-line-number="17"><span style="color: #CB7676">  </span><span style="color: #B8A965">kit</span><span style="color: #666666">:</span><span style="color: #CB7676"> </span><span style="color: #666666">{</span></span>
<span data-highlighted="" data-line-number="18"><span style="color: #CB7676">    </span><span style="color: #B8A965">adapter</span><span style="color: #666666">:</span><span style="color: #CB7676"> </span><span style="color: #80A665">adapter</span><span style="color: #666666">(),</span></span>
<span data-highlighted="" data-line-number="19"><span style="color: #CB7676">  </span><span style="color: #666666">},</span></span>
<span data-line-number="20"><span style="color: #CB7676">  </span><span style="color: #B8A965">extensions</span><span style="color: #666666">:</span><span style="color: #CB7676"> </span><span style="color: #666666">[</span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">.svelte</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">,</span><span style="color: #CB7676"> </span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">.md</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">],</span></span>
<span data-line-number="21"><span style="color: #666666">};</span></span>
</code></pre> <h1 id="동적-라우팅으로-게시글-페이지"><a aria-hidden="true" tabindex="-1" href="#동적-라우팅으로-게시글-페이지"><span class="icon icon-link"></span></a>동적 라우팅으로 게시글 페이지</h1> <h3 id="서버측-작업"><a aria-hidden="true" tabindex="-1" href="#서버측-작업"><span class="icon icon-link"></span></a>서버측 작업</h3> <p>이제 md 파일은 mdsvex가 알아서 파싱하고 알아서 렌더링할 수 있게 도와준다.</p> <p>이제 이 라우팅 경로를 잡고, 렌더링하기만 하면 된다.</p> <p><code>routes/blog/[slug]/+page.ts</code>를 생성하고 동일한 경로에 <code>+page.svelte</code>를 만든다.</p> <p>먼저, 게시글 정보를 불러와서 가공하는 작업은 <code>+page.ts</code>에서 작업한다.</p> <pre data-code-title="blog/[slug]/+page.ts"><code><span data-line-number="1"><span style="color: #4D9375">import</span><span style="color: #DBD7CAEE"> </span><span style="color: #4D9375">type</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">{</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">PageLoad</span><span style="color: #666666">,</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">PageLoadEvent</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">}</span><span style="color: #DBD7CAEE"> </span><span style="color: #4D9375">from</span><span style="color: #DBD7CAEE"> </span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">./$types</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">;</span></span>
<span data-line-number="2"><span style="color: #4D9375">import</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">{</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">error</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">}</span><span style="color: #DBD7CAEE"> </span><span style="color: #4D9375">from</span><span style="color: #DBD7CAEE"> </span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">@sveltejs/kit</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">;</span></span>
<span data-line-number="3"><span style="color: #4D9375">import</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">{</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">PostMetadataSchema</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">}</span><span style="color: #DBD7CAEE"> </span><span style="color: #4D9375">from</span><span style="color: #DBD7CAEE"> </span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">$lib/schema/post-metadata.schema</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">;</span></span>
<span data-line-number="4"></span>
<span data-line-number="5"><span style="color: #4D9375">export</span><span style="color: #CB7676"> const </span><span style="color: #80A665">load</span><span style="color: #666666">: </span><span style="color: #5DA9A7">PageLoad</span><span style="color: #666666"> =</span><span style="color: #CB7676"> async </span><span style="color: #666666">({</span><span style="color: #CB7676"> </span><span style="color: #BD976A">params</span><span style="color: #CB7676"> </span><span style="color: #666666">}: </span><span style="color: #5DA9A7">PageLoadEvent</span><span style="color: #666666">)</span><span style="color: #CB7676"> </span><span style="color: #666666">=></span><span style="color: #CB7676"> </span><span style="color: #666666">{</span></span>
<span data-line-number="6"><span style="color: #CB7676">  </span><span style="color: #4D9375">try</span><span style="color: #CB7676"> </span><span style="color: #666666">{</span></span>
<span data-line-number="7"><span style="color: #CB7676">    const </span><span style="color: #BD976A">post</span><span style="color: #CB7676"> </span><span style="color: #666666">=</span><span style="color: #CB7676"> </span><span style="color: #4D9375">await</span><span style="color: #CB7676"> import</span><span style="color: #666666">(</span><span style="color: #C98A7DAA">`</span><span style="color: #C98A7D">../../../../posts/</span><span style="color: #666666">${</span><span style="color: #C98A7D">params</span><span style="color: #666666">.</span><span style="color: #C98A7D">slug</span><span style="color: #666666">}</span><span style="color: #C98A7D">.md</span><span style="color: #C98A7DAA">`</span><span style="color: #666666">);</span></span>
<span data-line-number="8"></span>
<span data-line-number="9"><span style="color: #CB7676">    const </span><span style="color: #BD976A">postMetadata</span><span style="color: #CB7676"> </span><span style="color: #666666">=</span><span style="color: #CB7676"> </span><span style="color: #BD976A">PostMetadataSchema</span><span style="color: #666666">.</span><span style="color: #80A665">parse</span><span style="color: #666666">(</span><span style="color: #BD976A">post</span><span style="color: #666666">.</span><span style="color: #BD976A">metadata</span><span style="color: #666666">);</span></span>
<span data-line-number="10"></span>
<span data-line-number="11"><span style="color: #CB7676">    </span><span style="color: #4D9375">return</span><span style="color: #CB7676"> </span><span style="color: #666666">{</span></span>
<span data-line-number="12"><span style="color: #CB7676">      </span><span style="color: #B8A965">PostContent</span><span style="color: #666666">:</span><span style="color: #CB7676"> </span><span style="color: #BD976A">post</span><span style="color: #666666">.</span><span style="color: #BD976A">default</span><span style="color: #666666">,</span></span>
<span data-line-number="13"><span style="color: #CB7676">      </span><span style="color: #B8A965">meta</span><span style="color: #666666">:</span><span style="color: #CB7676"> </span><span style="color: #666666">{</span><span style="color: #CB7676"> </span><span style="color: #666666">...</span><span style="color: #BD976A">postMetadata</span><span style="color: #666666">,</span><span style="color: #CB7676"> </span><span style="color: #B8A965">slug</span><span style="color: #666666">:</span><span style="color: #CB7676"> </span><span style="color: #BD976A">params</span><span style="color: #666666">.</span><span style="color: #BD976A">slug</span><span style="color: #CB7676"> </span><span style="color: #666666">},</span></span>
<span data-line-number="14"><span style="color: #CB7676">    </span><span style="color: #666666">};</span></span>
<span data-line-number="15"><span style="color: #CB7676">  </span><span style="color: #666666">}</span><span style="color: #CB7676"> </span><span style="color: #4D9375">catch</span><span style="color: #CB7676"> </span><span style="color: #666666">(</span><span style="color: #BD976A">err</span><span style="color: #666666">)</span><span style="color: #CB7676"> </span><span style="color: #666666">{</span></span>
<span data-line-number="16"><span style="color: #CB7676">    </span><span style="color: #4D9375">if</span><span style="color: #CB7676"> </span><span style="color: #666666">(</span><span style="color: #BD976A">err</span><span style="color: #CB7676"> instanceof </span><span style="color: #5DA9A7">Error</span><span style="color: #666666">)</span></span>
<span data-line-number="17"><span style="color: #CB7676">      </span><span style="color: #80A665">error</span><span style="color: #666666">(</span><span style="color: #4C9A91">404</span><span style="color: #666666">,</span><span style="color: #CB7676"> </span><span style="color: #666666">{</span></span>
<span data-line-number="18"><span style="color: #CB7676">        </span><span style="color: #B8A965">message</span><span style="color: #666666">:</span><span style="color: #CB7676"> </span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">The post does not exist.</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">,</span></span>
<span data-line-number="19"><span style="color: #CB7676">      </span><span style="color: #666666">});</span></span>
<span data-line-number="20"><span style="color: #CB7676">    </span><span style="color: #80A665">error</span><span style="color: #666666">(</span><span style="color: #4C9A91">500</span><span style="color: #666666">,</span><span style="color: #CB7676"> </span><span style="color: #BD976A">err</span><span style="color: #CB7676"> </span><span style="color: #4D9375">as</span><span style="color: #CB7676"> </span><span style="color: #5DA9A7">Error</span><span style="color: #666666">);</span></span>
<span data-line-number="21"><span style="color: #CB7676">  </span><span style="color: #666666">}</span></span>
<span data-line-number="22"><span style="color: #666666">};</span></span>
</code></pre> <p>위에서 mdsvex를 적용하여 md파일을 바로 스벨트 컴포넌트처럼 불러올 수 있다.</p> <p>콘솔로 찍어본 결과 아래와 같은 인터페이스를 가지고 있었다.</p> <pre><code data-line-numbers=""><span data-line-number="1"><span style="color: #CB7676">interface</span><span style="color: #DBD7CAEE"> </span><span style="color: #5DA9A7">MarkdownData</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">{</span></span>
<span data-line-number="2"><span style="color: #DBD7CAEE">  </span><span style="color: #BD976A">metadata</span><span style="color: #666666">: </span><span style="color: #5DA9A7">unknown</span><span style="color: #666666">;</span></span>
<span data-line-number="3"><span style="color: #DBD7CAEE">  </span><span style="color: #BD976A">default</span><span style="color: #666666">: { </span><span style="color: #80A665">render</span><span style="color: #666666">: </span><span style="color: #5DA9A7">Function</span><span style="color: #666666"> };</span></span>
<span data-line-number="4"><span style="color: #666666">}</span></span>
</code></pre> <ul><li>metadata: 마크다운 파일의 파싱된 프론트 매터</li> <li>default: 렌더링 가능한 스벨트 컴포넌트</li></ul> <p>안정성을 위해 빌드 단계에서 잘못 작성된 프론트 매터를 검사하게 위해 <code>zod</code>를 이용했다.</p> <h3 id="렌더링측-작업"><a aria-hidden="true" tabindex="-1" href="#렌더링측-작업"><span class="icon icon-link"></span></a>렌더링측 작업</h3> <p>이제 <code>+page.ts</code>로부터 받은 데이터를 이용해 렌더링하면 된다.</p> <pre data-code-title="blug/[slug]/+page.svelte"><code><span data-line-number="1"><span style="color: #CB7676">&lt;</span><span style="color: #BD976A">script</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">lang</span><span style="color: #666666">=</span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">ts</span><span style="color: #C98A7DAA">"</span><span style="color: #CB7676">></span></span>
<span data-line-number="2"><span style="color: #DBD7CAEE">  </span><span style="color: #4D9375">import</span><span style="color: #DBD7CAEE"> </span><span style="color: #4D9375">type</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">{</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">PageProps</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">}</span><span style="color: #DBD7CAEE"> </span><span style="color: #4D9375">from</span><span style="color: #DBD7CAEE"> </span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">./$types</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">;</span></span>
<span data-line-number="3"></span>
<span data-line-number="4"><span style="color: #DBD7CAEE">  </span><span style="color: #CB7676">const </span><span style="color: #666666">{</span><span style="color: #CB7676"> </span><span style="color: #BD976A">data</span><span style="color: #CB7676"> </span><span style="color: #666666">}: </span><span style="color: #5DA9A7">PageProps</span><span style="color: #666666"> =</span><span style="color: #CB7676"> </span><span style="color: #80A665">$props</span><span style="color: #666666">();</span></span>
<span data-line-number="5"></span>
<span data-line-number="6"><span style="color: #DBD7CAEE">  </span><span style="color: #CB7676">const </span><span style="color: #666666">{</span><span style="color: #CB7676"> </span><span style="color: #BD976A">title</span><span style="color: #666666">,</span><span style="color: #CB7676"> </span><span style="color: #BD976A">description</span><span style="color: #666666">,</span><span style="color: #CB7676"> </span><span style="color: #BD976A">date</span><span style="color: #666666">,</span><span style="color: #CB7676"> </span><span style="color: #BD976A">tags</span><span style="color: #666666">,</span><span style="color: #CB7676"> </span><span style="color: #BD976A">categories</span><span style="color: #666666">,</span><span style="color: #CB7676"> </span><span style="color: #BD976A">coverImage</span><span style="color: #666666">,</span><span style="color: #CB7676"> </span><span style="color: #BD976A">coverWidth</span><span style="color: #666666">,</span><span style="color: #CB7676"> </span><span style="color: #BD976A">coverHeight</span><span style="color: #CB7676"> </span><span style="color: #666666">}</span><span style="color: #CB7676"> </span><span style="color: #666666">=</span><span style="color: #CB7676"> </span><span style="color: #BD976A">data</span><span style="color: #666666">.</span><span style="color: #BD976A">meta</span><span style="color: #666666">;</span></span>
<span data-line-number="7"><span style="color: #DBD7CAEE">  </span><span style="color: #CB7676">const </span><span style="color: #666666">{</span><span style="color: #CB7676"> </span><span style="color: #BD976A">PostContent</span><span style="color: #CB7676"> </span><span style="color: #666666">}</span><span style="color: #CB7676"> </span><span style="color: #666666">=</span><span style="color: #CB7676"> </span><span style="color: #BD976A">data</span><span style="color: #666666">;</span></span>
<span data-line-number="8"><span style="color: #CB7676">&lt;/</span><span style="color: #BD976A">script</span><span style="color: #CB7676">></span></span>
<span data-line-number="9"></span>
<span data-line-number="10"><span style="color: #CB7676">&lt;!--</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">가져온</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">정보를</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">통해</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">렌더링</span><span style="color: #DBD7CAEE"> </span><span style="color: #CB7676">--></span></span>
<span data-line-number="11"><span style="color: #666666">&lt;</span><span style="color: #5DA9A7">h1</span><span style="color: #666666">>{</span><span style="color: #BD976A">title</span><span style="color: #666666">}</span><span style="color: #CB7676">&lt;/</span><span style="color: #BD976A">h1</span><span style="color: #CB7676">></span></span>
<span data-line-number="12"><span style="color: #666666">...</span></span>
<span data-line-number="13"><span style="color: #CB7676">&lt;</span><span style="color: #BD976A">PostContent</span><span style="color: #DBD7CAEE"> </span><span style="color: #CB7676">/></span></span>
</code></pre> <p>이제 <code>/blog/{마크다운 파일 이름}</code>을 접속하면 마크다운 파일이 렌더링되는 것을 확인할 수 있다.</p> <h1 id="모든-게시글-목록-가져오기"><a aria-hidden="true" tabindex="-1" href="#모든-게시글-목록-가져오기"><span class="icon icon-link"></span></a>모든 게시글 목록 가져오기</h1> <p>지금은 게시글의 Slug를 알고 있어야 접근할 수 있다.
블로그답게 모든 게시글을 긁어와서 보여주는 작업을 진행하자.</p> <p><code>/blog/+page.ts</code>와 <code>/blog/+page.svelte</code>를 만든다.</p> <h3 id="서버측-작업-1"><a aria-hidden="true" tabindex="-1" href="#서버측-작업-1"><span class="icon icon-link"></span></a>서버측 작업</h3> <pre data-code-title="/blog/+page.ts"><code><span data-line-number="1"><span style="color: #4D9375">export</span><span style="color: #CB7676"> const </span><span style="color: #80A665">load</span><span style="color: #666666">: </span><span style="color: #5DA9A7">PageLoad</span><span style="color: #666666"> =</span><span style="color: #CB7676"> async </span><span style="color: #666666">()</span><span style="color: #CB7676"> </span><span style="color: #666666">=></span><span style="color: #CB7676"> </span><span style="color: #666666">{</span></span>
<span data-line-number="2"><span style="color: #CB7676">  const </span><span style="color: #BD976A">allPosts</span><span style="color: #666666">: </span><span style="color: #5DA9A7">Post</span><span style="color: #666666">[] =</span><span style="color: #CB7676"> </span><span style="color: #4D9375">await</span><span style="color: #CB7676"> </span><span style="color: #B8A965">Promise</span><span style="color: #666666">.</span><span style="color: #80A665">all</span><span style="color: #666666">(</span></span>
<span data-line-number="3"><span style="color: #CB7676">    </span><span style="color: #BD976A">Object</span><span style="color: #666666">.</span><span style="color: #80A665">entries</span><span style="color: #666666">(</span><span style="color: #4D9375">import</span><span style="color: #666666">.</span><span style="color: #B8A965">meta</span><span style="color: #666666">.</span><span style="color: #80A665">glob</span><span style="color: #666666">(</span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">/posts/*.md</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">)).</span><span style="color: #80A665">map</span><span style="color: #666666">(</span><span style="color: #CB7676">async </span><span style="color: #666666">([</span><span style="color: #BD976A">path</span><span style="color: #666666">,</span><span style="color: #CB7676"> </span><span style="color: #BD976A">resolver</span><span style="color: #666666">])</span><span style="color: #CB7676"> </span><span style="color: #666666">=></span><span style="color: #CB7676"> </span><span style="color: #666666">{</span></span>
<span data-line-number="4"><span style="color: #CB7676">      const </span><span style="color: #BD976A">mdData</span><span style="color: #CB7676"> </span><span style="color: #666666">=</span><span style="color: #CB7676"> </span><span style="color: #666666">(</span><span style="color: #4D9375">await</span><span style="color: #CB7676"> </span><span style="color: #80A665">resolver</span><span style="color: #666666">())</span><span style="color: #CB7676"> </span><span style="color: #4D9375">as</span><span style="color: #CB7676"> </span><span style="color: #5DA9A7">MarkdownData</span><span style="color: #666666">;</span></span>
<span data-line-number="5"></span>
<span data-line-number="6"><span style="color: #CB7676">      const </span><span style="color: #BD976A">metadata</span><span style="color: #CB7676"> </span><span style="color: #666666">=</span><span style="color: #CB7676"> </span><span style="color: #BD976A">PostMetadataSchema</span><span style="color: #666666">.</span><span style="color: #80A665">parse</span><span style="color: #666666">(</span><span style="color: #BD976A">mdData</span><span style="color: #666666">.</span><span style="color: #BD976A">metadata</span><span style="color: #666666">);</span></span>
<span data-line-number="7"></span>
<span data-line-number="8"><span style="color: #CB7676">      const </span><span style="color: #BD976A">slug</span><span style="color: #CB7676"> </span><span style="color: #666666">=</span><span style="color: #CB7676"> </span><span style="color: #80A665">getSlug</span><span style="color: #666666">(</span><span style="color: #BD976A">path</span><span style="color: #666666">);</span></span>
<span data-line-number="9"><span style="color: #CB7676">      </span><span style="color: #4D9375">return</span><span style="color: #CB7676"> </span><span style="color: #666666">{</span></span>
<span data-line-number="10"><span style="color: #CB7676">        </span><span style="color: #666666">...</span><span style="color: #BD976A">metadata</span><span style="color: #666666">,</span></span>
<span data-line-number="11"><span style="color: #CB7676">        </span><span style="color: #BD976A">slug</span><span style="color: #666666">,</span></span>
<span data-line-number="12"><span style="color: #CB7676">      </span><span style="color: #666666">};</span></span>
<span data-line-number="13"><span style="color: #CB7676">    </span><span style="color: #666666">})</span></span>
<span data-line-number="14"><span style="color: #CB7676">  </span><span style="color: #666666">);</span></span>
<span data-line-number="15"><span style="color: #666666">  </span><span style="color: #758575DD">// 필요에 따라 정렬이나 후처리 진행...</span></span>
<span data-line-number="16"><span style="color: #666666">  </span><span style="color: #758575DD">// 나는 추가로 카테고리와 태그를 추출하여 함께 전달했지만, 이 코드에서는 간소화했다.</span></span>
<span data-line-number="17"><span style="color: #CB7676">  </span><span style="color: #4D9375">return</span><span style="color: #CB7676"> </span><span style="color: #666666">{</span></span>
<span data-line-number="18"><span style="color: #CB7676">    </span><span style="color: #B8A965">posts</span><span style="color: #666666">:</span><span style="color: #CB7676"> </span><span style="color: #BD976A">allPosts</span><span style="color: #666666">,</span></span>
<span data-line-number="19"><span style="color: #CB7676">  </span><span style="color: #666666">};</span></span>
<span data-line-number="20"><span style="color: #666666">};</span></span>
</code></pre> <ul><li><code>import.meta.glob</code>을 이용해 모든 게시글을 가져온다.</li></ul> <h3 id="렌더링측-작업-1"><a aria-hidden="true" tabindex="-1" href="#렌더링측-작업-1"><span class="icon icon-link"></span></a>렌더링측 작업</h3> <pre data-code-title="blog/+page.svelte"><code><span data-line-number="1"><span style="color: #CB7676">&lt;</span><span style="color: #BD976A">script</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">lang</span><span style="color: #666666">=</span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">ts</span><span style="color: #C98A7DAA">"</span><span style="color: #CB7676">></span></span>
<span data-line-number="2"><span style="color: #DBD7CAEE">  </span><span style="color: #4D9375">import</span><span style="color: #DBD7CAEE"> </span><span style="color: #4D9375">type</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">{</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">PageProps</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">}</span><span style="color: #DBD7CAEE"> </span><span style="color: #4D9375">from</span><span style="color: #DBD7CAEE"> </span><span style="color: #C98A7DAA">"</span><span style="color: #C98A7D">./$types</span><span style="color: #C98A7DAA">"</span><span style="color: #666666">;</span></span>
<span data-line-number="3"></span>
<span data-line-number="4"><span style="color: #DBD7CAEE">  </span><span style="color: #CB7676">const </span><span style="color: #666666">{</span><span style="color: #CB7676"> </span><span style="color: #BD976A">data</span><span style="color: #CB7676"> </span><span style="color: #666666">}: </span><span style="color: #5DA9A7">PageProps</span><span style="color: #666666"> =</span><span style="color: #CB7676"> </span><span style="color: #80A665">$props</span><span style="color: #666666">();</span></span>
<span data-line-number="5"><span style="color: #DBD7CAEE">  </span><span style="color: #CB7676">const </span><span style="color: #666666">{</span><span style="color: #CB7676"> </span><span style="color: #BD976A">posts</span><span style="color: #CB7676"> </span><span style="color: #666666">}</span><span style="color: #CB7676"> </span><span style="color: #666666">=</span><span style="color: #CB7676"> </span><span style="color: #BD976A">data</span><span style="color: #666666">;</span></span>
<span data-line-number="6"><span style="color: #CB7676">&lt;/</span><span style="color: #BD976A">script</span><span style="color: #CB7676">></span></span>
<span data-line-number="7"></span>
<span data-line-number="8"><span style="color: #CB7676">&lt;!--</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">가져온</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">정보를</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">통해</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">렌더링</span><span style="color: #DBD7CAEE"> </span><span style="color: #CB7676">--></span></span>
<span data-line-number="9"><span style="color: #666666">{</span><span style="color: #DBD7CAEE">#</span><span style="color: #BD976A">each</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">posts</span><span style="color: #DBD7CAEE"> </span><span style="color: #4D9375">as</span><span style="color: #DBD7CAEE"> </span><span style="color: #5DA9A7">post</span><span style="color: #DBD7CAEE"> </span><span style="color: #666666">(</span><span style="color: #5DA9A7">post</span><span style="color: #666666">.</span><span style="color: #5DA9A7">slug</span><span style="color: #666666">)}</span></span>
<span data-line-number="10"><span style="color: #DBD7CAEE">  </span><span style="color: #CB7676">&lt;</span><span style="color: #BD976A">a</span><span style="color: #DBD7CAEE"> </span><span style="color: #BD976A">href</span><span style="color: #666666">={</span><span style="color: #80A665">resolve</span><span style="color: #666666">(</span><span style="color: #C98A7DAA">`</span><span style="color: #C98A7D">/blog/</span><span style="color: #666666">${</span><span style="color: #C98A7D">post</span><span style="color: #666666">.</span><span style="color: #C98A7D">slug</span><span style="color: #666666">}</span><span style="color: #C98A7DAA">`</span><span style="color: #666666">)}</span><span style="color: #CB7676">></span><span style="color: #666666">{</span><span style="color: #DBD7CAEE">post.</span><span style="color: #BD976A">title</span><span style="color: #666666">}</span><span style="color: #CB7676">&lt;/</span><span style="color: #BD976A">a</span><span style="color: #CB7676">></span></span>
<span data-line-number="11"><span style="color: #666666">{</span><span style="color: #CB7676">/</span><span style="color: #BD976A">each</span><span style="color: #666666">}</span></span>
</code></pre> <p>개별 게시글 렌더링과 별 다를 건 없다.</p> <p>아주 기본적인 블로그 뼈대는 완성했다. 이제 여기에 카테고리, 태그, 페이지네이션, 디자인만 적용하면 된다.</p> <h1 id="마치며"><a aria-hidden="true" tabindex="-1" href="#마치며"><span class="icon icon-link"></span></a>마치며</h1> <p>확실히 한번 정적 블로그를 만든 경험이 컸다. 이번에는 다른 프레임워크로 만들어봤는데 핵심 원리는 완전히 동일했다.</p> <blockquote><p><strong>마크다운 파일을 HTML로 변환해 화면에 렌더링한다.</strong></p></blockquote> <p>심지어 위 작업은 라이브러리가 전부 해준다. 나는 만들어진 코드를 호출하기만 하면 된다.</p> <p>모든 것은 <code>도구</code>다.</p> <p>프레임워크, 라이브러리, 프로그래밍 언어까지도 결국 내가 원하는 결과물을 효율적으로 만들기 위한 도구다.
특정 도구의 전문가가 되는 것도 의미 있지만, 더 중요한 것은 해결하려는 문제의 본질을 꿰뚫고 상황에 맞는 최적의 도구를 선택하고 활용하는 능력이다.</p> <p>도구를 잘 사용하는 사람이 되자.</p> <p>새로운 도구가 나타나도 그건 동일한 문제를 해결하기 위한 새로운 도구일 뿐이니까.</p><!----></section> <footer class="border-t-border mt-24 border-t py-4"><section class="flex flex-wrap gap-2"><!--[--><a href="/blog?tag=SvelteKit" class="text-primary/50 hover:text-primary border-border hover:bg-accent flex items-center rounded-xl border px-1 text-sm transition-colors duration-200">#SvelteKit</a><a href="/blog?tag=Svelte" class="text-primary/50 hover:text-primary border-border hover:bg-accent flex items-center rounded-xl border px-1 text-sm transition-colors duration-200">#Svelte</a><a href="/blog?tag=Blog" class="text-primary/50 hover:text-primary border-border hover:bg-accent flex items-center rounded-xl border px-1 text-sm transition-colors duration-200">#Blog</a><!--]--></section></footer></article><!----><!----></main> <footer class="bg-muted"><div class="mx-auto flex flex-col items-center justify-between gap-4 p-4 text-gray-600 dark:text-gray-400"><div class="text-sm"><p>© 2025 markab-j. All rights reserved.</p></div> <div class="flex items-center space-x-4"><a href="https://github.com/markab-j" target="_blank" rel="noopener noreferrer" aria-label="GitHub Profile" class="hover:text-gray-900 dark:hover:text-gray-100"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-github"><!--[--><!----><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"><!----></path><!----><!----><path d="M9 18c-4.51 2-5-2-7-2"><!----></path><!----><!--]--><!----><!----></svg><!----></a> <a href="mailto:your-email@example.com" aria-label="Email" class="hover:text-gray-900 dark:hover:text-gray-100" rel="external"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-icon lucide lucide-mail"><!--[--><!----><path d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"><!----></path><!----><!----><rect x="2" y="4" width="20" height="16" rx="2"><!----></rect><!----><!--]--><!----><!----></svg><!----></a></div></div></footer><!----></div><!----><!--]--> <!--[!--><!--]--><!--]-->
			
			<script>
				{
					__sveltekit_1hlic6z = {
						base: new URL("..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../_app/immutable/entry/start.DehJBHPC.js"),
						import("../_app/immutable/entry/app.8tpYuo3g.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 5],
							data: [null,null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
  </body>
</html>
